{
  "$schema": "../../../schemas/dataform/form-definition.schema.json",
  "id": "TemplatePool",
  "title": "Template Pool",
  "description": "Defines a template pool containing structure elements that can be connected via jigsaw blocks.",
  "summarizer": {
    "phrases": [
      {
        "tokens": [
          { "type": "literal", "text": "defines a pool of structure elements for jigsaw connections" }
        ]
      }
    ]
  },
  "fields": [
    {
      "id": "format_version",
      "title": "Format Version",
      "description": "The format version of this template pool definition.",
      "dataType": 2,
      "isRequired": true
    },
    {
      "id": "minecraft:template_pool",
      "title": "Template Pool Definition",
      "description": "The template pool definition.",
      "dataType": 16,
      "isRequired": true,
      "subForm": {
        "id": "template_pool_definition",
        "fields": [
          {
            "id": "description",
            "title": "Description",
            "description": "The description block containing the template pool identifier.",
            "dataType": 16,
            "isRequired": true,
            "subFormId": "jigsaw/jigsawstructuretemplatepool_description"
          },
          {
            "id": "elements",
            "title": "Elements",
            "description": "Array of pool elements that can be selected when generating structures.",
            "dataType": 15,
            "isRequired": true,
            "subForm": {
              "id": "pool_element_entry",
              "fields": [
                {
                  "id": "element",
                  "title": "Element",
                  "description": "The structure element configuration.",
                  "dataType": 16,
                  "isRequired": true,
                  "subForm": {
                    "id": "pool_element",
                    "fields": [
                      {
                        "id": "element_type",
                        "title": "Element Type",
                        "description": "The type of pool element. Valid values: 'minecraft:single_pool_element', 'minecraft:list_pool_element', 'minecraft:feature_pool_element', 'minecraft:empty_pool_element', 'minecraft:legacy_single_pool_element'.",
                        "dataType": 2,
                        "isRequired": true
                      },
                      {
                        "id": "location",
                        "title": "Location",
                        "description": "Path to the structure template file, relative to the structures folder.",
                        "dataType": 2
                      },
                      {
                        "id": "processors",
                        "title": "Processors",
                        "description": "Identifier of the processor list to apply to this element, or inline processor configuration.",
                        "dataType": 2,
                        "alternates": [
                          {
                            "id": "processors",
                            "dataType": 16,
                            "description": "Inline processor configuration."
                          }
                        ]
                      },
                      {
                        "id": "projection",
                        "title": "Projection",
                        "description": "How the element projects onto terrain. Valid values: 'rigid', 'terrain_matching'.",
                        "dataType": 2,
                        "defaultValue": "rigid"
                      }
                    ]
                  }
                },
                {
                  "id": "weight",
                  "title": "Weight",
                  "description": "The relative weight for selecting this element. Higher weights are more likely to be chosen.",
                  "dataType": 0,
                  "defaultValue": 1,
                  "minValue": 1
                }
              ]
            }
          },
          {
            "id": "fallback",
            "title": "Fallback Pool",
            "description": "Optional fallback pool identifier to use when no elements can be placed.",
            "dataType": 2
          }
        ]
      }
    }
  ]
}
