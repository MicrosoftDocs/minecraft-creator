{
  "namespace": "persona",

  "progress_loading": {
    "type": "image",
    "texture": "textures/ui/White",
    "color": "$rarity_common_bg_color",
    "$progress_loading_binding_type|default": "global",
    "$progress_loading_collection_name|default": "",
    "$progress_loading_binding_name|default": "",
    "controls": [
      {
        "progress_loading@common_store.progress_loading": {
          "size": [ "100% - 2px", "100% - 2px" ],
          "$hide_failure_text": true,
          "$hide_progress_loading_outline": true,
          "bindings": []
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$progress_loading_binding_type",
        "binding_condition": "always",
        "binding_collection_name": "$progress_loading_collection_name",
        "binding_name": "$progress_loading_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "progress_loading_input_panel": {
    "type": "input_panel",
    "size": [ "100%sm - 2px", "100%sm" ],
    "layer": 200,

    "$input_progress_loading_binding_type|default": "global",
    "$input_progress_loading_collection_name|default": "",
    "$input_progress_loading_binding_name|default": "",
    "bindings": [
      {
        "binding_type": "$input_progress_loading_binding_type",
        "binding_collection_name": "$input_progress_loading_collection_name",
        "binding_name": "$input_progress_loading_binding_name",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "progress_loading@persona.progress_loading": {
          "bindings": []
        }
      }
    ]
  },

  "skin_viewer_panel_skin_model": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "$skin_offset|default": [ 0, -30 ],
    "controls": [
      {
        "skin_model": {
          "type": "custom",
          "offset": "$skin_offset",
          "renderer": "paper_doll_renderer",
          "camera_tilt_degrees": -10,
          "starting_rotation": 30,
          "layer": 5,
          "use_selected_skin": false,
          "use_skin_gui_scale": true,
          "rotation": "gesture_x",
          "animation_reset_name": "screen_animation_reset",
          "anims": [
            "@common.screen_exit_size_animation_push",
            "@common.screen_exit_size_animation_pop",
            "@common.screen_entrance_size_animation_push",
            "@common.screen_entrance_size_animation_pop"
          ],
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "$skin_preview"
            },
            {
              "binding_type": "view",
              "source_control_name": "$gesture_input_panel_control",
              "source_property_name": "#gesture_delta_source",
              "target_property_name": "#gesture_delta_source"
            },
            {
              "binding_type": "view",
              "source_control_name": "$gesture_input_panel_control",
              "source_property_name": "#gesture_mouse_delta_x",
              "target_property_name": "#gesture_mouse_delta_x"
            }
          ]
        }
      }
    ]
  },

  "skin_viewer_panel": {
    "type": "input_panel",
    "layer": 90,
    "gesture_tracking_button": "button.turn_doll",
    "bindings": [
      {
        "binding_name": "#can_paperdoll_rotate",
        "binding_name_override": "#always_handle_controller_direction",
        "binding_condition": "always"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.turn_doll",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ],
    "controls": [
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "toast_message": "@persona.popup_toast"
          }
        }
      },
      { "skin_model_panel@persona.skin_viewer_panel_skin_model": {} },
      {
        "arrow_panel": {
          "type": "panel",
          "size": [ "100%", 22 ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "bindings": [
            {
              "binding_name": "(not #preview_appearance_on)",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "rotate_arrows@skin_picker.skin_rotation_arrows": {
                "size": [ 37, 7 ],
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle"
              }
            },
            {
              "skin_color_picker_button@persona.skin_color_picker": {
                "size": [ 60, 22 ],
                "anchor_to": "bottom_left",
                "anchor_from": "bottom_left",
                "$focus_id": "skin_color_picker_button",
                "bindings": [
                  {
                    "binding_name": "#skin_color_option_on",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_name": "#skin_color_option_enabled",
                    "binding_name_override": "#enabled"
                  },
                  {
                    "binding_name": "#skin_color_option_enabled",
                    "binding_name_override": "#focus_enabled"
                  }
                ]
              }
            },
            {
              "preview_skin_mouse@persona.preview_skin_full": {
                "size": [ 22, "100%x" ],
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "$focus_id": "skin_preview_button"
              }
            }
          ]
        }
      },
      {
        "persona_updating@persona.loading_icon": {
          "anchor_to": "top_right",
          "anchor_from": "top_right",
          "bindings": [
            {
              "binding_name": "#persona_is_updating",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "place_holder": {
    "type": "stack_panel",
    "offset": [ 0, "5%" ],
    "orientation": "vertical",
    "size": [ "40%", "100%" ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// purchase button controls
  "purchase_button_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "bindings": [
      {
        "binding_name": "$purchase_panel_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "$purchase_button_control@$purchase_button_control": {
          "size": [ "100%", "100%" ],
          "$default_state_border_visible": true,
          "$hover_state_border_visible": true,
          "$pressed_state_border_visible": true,
          "$locked_state_border_visible": true
        }
      }
    ]
  },

  /////////////////////////////////////////////
  //// real money purchase button controls ////
  "offer_real_money_purchase_button@common_buttons.light_text_button": {
    "size": [ "100%c", "100%" ],
    "$anchor": "center",
    "$new_ui_label_offset": [ 0, -2 ],
    "$font_type": "MinecraftTen",
    "$pressed_button_name": "button.real_money_purchase",
    "$button_text": "#purchase_with_currency_button_text",
    "$button_text_binding_type": "global",
    "$focus_id": "offer_real_money_purchase_button"
  },

  ///////////////////////////////
  //// coin purchase button /////
  "offer_coin_purchase_button@common_buttons.light_content_button": {
    "$pressed_button_name": "button.coin_purchase",
    "$ignore_markdown_filler_panel": "#is_on_sale",
    "$button_content": "pdp.large_button_coin_purchase_label",
    "$is_on_sale": false,
    "$coin_image_on_right": false,
    "$is_purchase_button": true,
    "$interact_button_id": "button.purchase_with_coins",
    "$purchase_price_offset": [ 0, -2 ],
    "$purchase_price_font_type": "MinecraftTen",
    "$markdown_size": [ "100% + 2px", "100% + 4px" ],
    "$strike_thru_offset": [ 0, 2 ],
    "$markdown_offset": [ -1, 0 ],
    "$focus_id": "offer_coin_purchase_button"
  },

  "achievement_text_button@common_buttons.light_text_button": {
    "$font_type": "MinecraftTen",
    "$focus_id": "offer_coin_purchase_button",
    "$persona_focus_precedence": 3,

    "variables": [
      {
        "requires": "(not $is_low_memory_device)",
        "$button_offset": [ 0, -3 ],
        "$button_pressed_offset": [ 3, 0 ]
      }
    ]
  },

  "view_achievement@persona.achievement_text_button": {
    "$pressed_button_name": "button.view_achievement",
    "$button_text": "store.view_achievement"
  },

  "collect_achievement@persona.achievement_text_button": {
    "$pressed_button_name": "button.collect_achievement",
    "$button_text": "dr.collect_achievement_item"
  },

  "purchase_buttons": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "fill", "100%" ],
    "controls": [
      {
        "coin_purchase_panel@persona.purchase_button_panel": {
          "size": [ "50% - 2px", "100%" ],
          "$purchase_panel_visible_binding": "#is_purchasable_item",
          "$purchase_button_control": "persona.offer_coin_purchase_button"
        }
      },
      {
        "view_achievement_button@persona.view_achievement": {
          "ignored": "(not $supports_xbl_achievements)",
          "size": [ "68% - 1px", "100%" ],
          "$focus_override_down": "FOCUS_OVERRIDE_STOP",
          "bindings": [
            {
              "binding_name": "#is_achievement_award",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "collect_achievement_button@persona.collect_achievement": {
          "size": [ "32% - 1px", "100%" ],
          "$focus_override_down": "FOCUS_OVERRIDE_STOP",
          "bindings": [
            {
              "binding_name": "#can_collect_achievement_award",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "real_money_purchase_panel@persona.purchase_button_panel": {
          "size": [ "50% - 1px", "100%" ],
          "$purchase_panel_visible_binding": "#is_currency_purchase_visible",
          "$purchase_button_control": "persona.offer_real_money_purchase_button"
        }
      }
    ]
  },

  "right_side_bottom_buttons": {
    "ignored": "$ignore_right_side_buttom_buttons",
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 22 ],
    "offset": [ 0, "100%y - 6px" ],
    "anchor_to": "bottom_left",
    "anchor_from": "bottom_left",
    "controls": [
      { "purchase_buttons_panel@persona.purchase_buttons": {} },
      {
        "right_padding": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// dressing room right side panel content

  "special_offer_banner": {
    "ignored": "$ignore_special_banner",
    "type": "image",
    "size": [ "100%c + 15px", 15 ], // 15px = 3 for left side of banner + 6 for right side of banner + 6 for padding
    "$special_offer_banner_offset|default": [ -8, "-60%y" ],
    "offset": "$special_offer_banner_offset",
    "layer": 8,
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "texture": "textures/ui/saleribbon",
    "controls": [
      {
        "banner_info": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", 8 ],
          "offset": [ -1, -1.5 ], // x: one extra pixel on right.  y: lower left of banner is 3px high
          "controls": [
            {
              "limited_time_icon": {
                "type": "image",
                "size": [ "100%y", "100%" ],
                "layer": 3,
                "texture": "textures/ui/icon_timer",
                "bindings": [
                  {
                    "binding_name": "#is_limited_time_offer",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "padding": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "special_banner_text": {
                "type": "label",
                "size": [ "default", "100%" ],
                "max_size": [ 100, "100%" ],
                "layer": 3,
                "font_scale_factor": 0.8,
                "font_type": "smooth",
                "color": "$dressing_room_sale_banner_text_color",
                "$special_banner_text_binding_name|default": "#special_banner_text",
                "text": "$special_banner_text_binding_name",
                "bindings": [
                  {
                    "binding_name": "$special_banner_text_binding_name"
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#is_specail_offer_banner_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "color_picker_content_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      { "color_picker@persona.color_picker_panel": {} }
    ]
  },

  "offer_info_section_content": {
    "type": "panel",
    "$offer_info_section_content_size|default": [ "100%", "100%" ],
    "size": "$offer_info_section_content_size",

    "$ignore_special_banner|default": false,

    "controls": [
      {
        "info_content_panels": {
          "type": "panel",

          "$info_content_panel_size|default": [ "100%", "100%" ],
          "size": "$info_content_panel_size",

          "controls": [
            { "offer_info_content@persona.information_and_selection_panel": {} },
            { "special_offer_banner@persona.special_offer_banner": {} }
          ]
        }
      }
    ]
  },

  "right_side_dialog_panel": {
    "type": "panel",
    "$right_side_dialog_bg_size|default": [ "100% - 12px", "100% - 12px" ],
    "$right_side_dialog_visible_binding|default": "('#is_right_info_' + $info_panel_prefix +'_panel_visible')",
    "bindings": [
      {
        "binding_name": "$right_side_dialog_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "right_side_dialog@persona.dialog_background_object_thin": {
          "size": "$right_side_dialog_size",
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "$dialog_bg_size": "$right_side_dialog_bg_size"
        }
      }
    ]
  },

  "featured_info_panel@persona.right_side_dialog_panel": {
    "size": [ "100%", "100%c + 4px" ],
    "$persona_dialog_content": "persona.offer_info_section_content",

    "$info_title_control": "persona.title_rarity_background_image",
    "$info_content_control": "persona.right_info_panel",
    "$right_info_content_control": "persona.category_featured_offer_panel",

    "$right_side_dialog_size": [ "100%", "100%c + 12px" ],
    "$right_side_dialog_bg_size": [ "100% - 12px", "100%c" ],

    "$offer_info_section_content_size": [ "100%", "100%c" ],
    "$info_content_panel_size": [ "100%", "100%c" ],
    "$info_and_selection_panel_size": [ "100%", "100%c" ],
    "$info_bottom_section_size": [ "100%", "100%c" ],
    "$right_info_panel_size": [ "100%", "100%c" ],
    "$right_info_panel_content_size": [ "100%", "100%c" ],


    "$ignore_right_side_buttom_buttons": true,
    "$ignore_special_banner": true,
    "$ignore_piece_selected": true,
    "$ignore_cycle_buttons": true
  },

  "piece_list_right_side_section@persona.right_side_dialog_panel": {
    "type": "panel",
    "size": [ "100%", 85 ],

    "$dialog_bg_size": [ "100% - 12px", "100% - 12px" ],
    "$right_side_dialog_size": [ "100%", "100% - 12px" ],
    "$persona_dialog_content": "persona.offer_info_section_content",
    "$info_panel_prefix": "piece_offer",
    "$info_title_control": "persona.title_rarity_background_image",
    "$info_content_control": "persona.right_info_panel",
    "$right_info_content_control": "persona.info_text_box",
    "$ignore_color_picker": false,

    "controls": [
      {
        "right_info_panel_no_buttons@persona.dialog_background_object_thin": {
          "size": [ "100%", "100% - 4px" ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "right_info_panel_with_buttons",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "right_info_panel_with_buttons@persona.dialog_background_object_thin": {
          "size": [ "100%", "100% - 14px" ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "bindings": [
            {
              "binding_name": "#is_right_info_with_buttons_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "right_side_stack_debug_control": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "debug_skin_names": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 1 ],
          "controls": [
            {
              "debug_current_name": {
                "type": "label",
                "size": [ "fill", 15 ],
                "font_scale_factor": 0.75,
                "layer": 15,
                "font_type": "smooth",
                "color": "$right_side_default_text_color",
                "text": "#current_skin_name",
                "bindings": [
                  {
                    "binding_name": "#current_skin_name"
                  }
                ]
              }
            },
            {
              "debug_active_name": {
                "type": "label",
                "size": [ "fill", 15 ],
                "font_scale_factor": 0.75,
                "layer": 15,
                "font_type": "smooth",
                "color": "$right_side_default_text_color",
                "text": "#active_skin_name",
                "bindings": [
                  {
                    "binding_name": "#active_skin_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "debug_skins": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 75 ],
          "controls": [
            {
              "dressing_room_right_side_model_current@persona.skin_viewer_panel_skin_model": {
                "size": [ "fill", "100%" ],
                "$skin_offset": [ 0, -10 ],
                "$gesture_input_panel_control": "dressing_room_right_side_model",
                "$skin_preview": "#current_skin"
              }
            },
            {
              "dressing_room_right_side_model_active@persona.skin_viewer_panel_skin_model": {
                "size": [ "fill", "100%" ],
                "$skin_offset": [ 0, -10 ],
                "$gesture_input_panel_control": "dressing_room_right_side_model",
                "$skin_preview": "#active_skin"
              }
            }
          ]
        }
      },
      {
        "debug_preview_skin_name": {
          "type": "label",
          "size": [ "100%", 20 ],
          "layer": 15,
          "font_type": "smooth",
          "color": "$right_side_default_text_color",
          "text": "#preview_skin_name",
          "bindings": [
            {
              "binding_name": "#preview_skin_name"
            }
          ]
        }
      }
    ]
  },

  "right_side_stack": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "fill", "100%" ],
    "$right_side_default_text_color": "$dressing_room_right_side_default_text_color",
    "controls": [
      { "top_padding@persona.vertical_base_padding": {} },
      {
        "debug_information@persona.right_side_stack_debug_control": {
          "bindings": [
            {
              "binding_name": "#is_using_dressing_room_debugging",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "dressing_room_right_side_model@persona.skin_viewer_panel": {
          "size": [ "100%", "fill" ],
          "$gesture_input_panel_control": "dressing_room_right_side_model",
          "$skin_preview": "#preview_skin"
        }
      },
      {
        "arrow_and_info_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "category_featured_info_panel@persona.featured_info_panel": {
          "$info_panel_prefix": "category_featured"
        }
      },
      {
        "main_featured_info_panel@persona.featured_info_panel": {
          "$info_panel_prefix": "main_featured"
        }
      },
      { "piece_offer_info_panel@persona.piece_list_right_side_section": {} },
      {
        "color_picker_info_panel@persona.right_side_dialog_panel": {
          "size": [ "100%", "100%c + 4px" ],
          "$right_side_dialog_size": [ "100%", 40 ],

          "$persona_dialog_content": "persona.offer_info_section_content",
          "$info_panel_prefix": "color_picker",
          "$info_title_control": "persona.color_picker_info_panel_title"
        }
      },
      {
        "offer_info_panel_skins@persona.right_side_dialog_panel": {
          "size": [ "100%", "35% + 16px" ],
          "$right_side_dialog_size": [ "100%", "100% - 14.5px" ],

          "$persona_dialog_content": "persona.offer_info_section_content",

          "$info_panel_prefix": "classic_skin",
          "$info_title_control": "persona.right_panel_classic_skins_title",
          "$info_content_control": "persona.right_panel_classic_skin_content"
        }
      },
      {
        "classic_skin_featured_panel@persona.right_side_dialog_panel": {
          "size": [ "100%", "100%c + 4px" ],

          "$info_panel_prefix": "classic_skin_featured",

          "$right_side_dialog_size": [ "100%", "100%c + 12px" ],
          "$right_side_dialog_bg_size": [ "100% - 12px", "100%c" ],

          "$persona_dialog_content": "persona.offer_info_section_content",

          "$offer_info_section_content_size": [ "100%", "100%c" ],
          "$info_content_panel_size": [ "100%", "100%cm" ],
          "$info_and_selection_panel_size": [ "100%", "100%c" ],
          "$info_bottom_section_size": [ "100%", "100%cm" ],

          "$info_title_control": "persona.title_rarity_background_image",
          "$info_content_control": "persona.classic_skin_featured_panel_content",
          "$ignore_cycle_buttons": true
        }
      },
      {
        "emote_info_panel@persona.piece_list_right_side_section": {
          "$info_panel_prefix": "emote",
          "$info_content_control": "persona.emotes_right_info_panel",
          "$persona_dialog_content": "persona.offer_info_section_content"
        }
      }
    ]
  },

  "right_panel_classic_skin_featured_grid": {
    "type": "grid",
    "size": [ "fill", "100%c" ],

    "$persona_featured_skin_pack_binding_type|default": "collection",
    "$persona_featured_skin_pack_collection_prefix|default": "persona_featured_skin_pack",
    "$persona_featured_skin_pack_collection_name|default": "persona_featured_skin_pack_collection",

    "$featured_skin_skin_dimension_binding": "#featured_skin_pack_dimensions",
    "grid_dimension_binding": "$featured_skin_skin_dimension_binding",
    "grid_item_template": "persona.featured_skin_pack_button_panel",
    "collection_name": "$persona_featured_skin_pack_collection_name",

    "bindings": [
      {
        "binding_name": "$featured_skin_skin_dimension_binding"
      }
    ]
  },

  "classic_skin_featured_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 4px", "100%cm" ],

    "$featured_skin_grid_panel_size|default": [ "fill", "100%c + 4px" ],
    "$cycle_button_panel_size": [ 15, "100%sm" ],
    "$cycle_button_size": [ "100%", "90%" ],
    "$ignore_cycle_buttons|default": false,
    "$is_skins": true,

    "controls": [
      {
        "left_cycle_button@persona.left_cycle_button": {
          "size": [ 15, "100%sm" ],
          "$pressed_button_name": "button.cycle_featured_skins_left",
          "$cycle_pack_button_enabled": "#is_left_cycle_featured_skins_button_enabled"
        }
      },
      {
        "featured_skin_grid_panel": {
          "type": "panel",
          "size": "$featured_skin_grid_panel_size",
          "controls": [
            {
              "featured_skin_grid@persona.right_panel_classic_skin_featured_grid": {
                "size": [ "100% - 2px", "100%c" ]
              }
            }
          ]
        }
      },
      {
        "right_cycle_button@persona.right_cycle_button": {
          "size": [ 15, "100%sm" ],
          "$pressed_button_name": "button.cycle_featured_skins_right",
          "$cycle_pack_button_enabled": "#is_right_cycle_featured_skins_button_enabled"
        }
      }
    ]
  },

  "classic_skin_featured_panel_content": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      { "classic_skin_featured_content@persona.classic_skin_featured_content": {} }
    ]
  },


  ///////////////////////////////////////////////////////////////////////////////////////
  //// dressing room right side panel content
  "info_text_box": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100% - 5px" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      {
        "description_panel": {
          "type": "stack_panel",
          "size": [ "100%", "fill" ],
          "orientation": "vertical",
          "controls": [
            {
              "summary_author_button_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "bindings": [
                  {
                    "binding_name": "(not (#creator_label = ''))",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "summary_author_button@common_buttons.underline_button": {
                      "offset": [ 2, -1 ],
                      "layer": 2,
                      "$pressed_button_name": "button.seeMoreBy",
                      "$single_label_size": [ "default", 10 ],
                      "$single_line_label_offset": [ 0, 0 ],
                      "$single_line_font_scale_factor": 1,
                      "$single_line_label_color": "$right_side_default_text_color",
                      "$single_line_label_text": "#creator_label",
                      "$label_text_bindings": [
                        {
                          "binding_name": "$single_line_label_text"
                        }
                      ],
                      "bindings": [
                        {
                          "binding_name": "(not #emotes_active)",
                          "binding_name_override": "#enabled"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "description_label_vert_stack": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "fill" ],
                "bindings": [
                  {
                    "binding_name": "(not (#right_panel_description = ''))",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "description_label_panel": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100%", "fill" ],
                      "controls": [
                        {
                          "lock_state_icon_panel": {
                            "type": "panel",
                            "size": [ 15, "100%" ],
                            "bindings": [
                              {
                                "binding_name": "#is_offer_achievement",
                                "binding_name_override": "#visible"
                              }
                            ],
                            "controls": [
                              {
                                "locked_state_icon@persona.icon_image": {
                                  "size": [ 12, 11 ],
                                  "anchor_to": "top_middle",
                                  "anchor_from": "top_middle",
                                  "bindings": [
                                    {
                                      "binding_name": "#achievement_offer_lock_state_texture",
                                      "binding_name_override": "#texture"
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "description_label": {
                            "type": "label",
                            "size": [ "fill", "100%" ],
                            "layer": 2,
                            "color": "$right_side_default_text_color",
                            "text": "#right_panel_description",
                            "font_type": "smooth",
                            "bindings": [
                              {
                                "binding_name": "#right_panel_description"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "mid_padding": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "bindings": [
            {
              "binding_name": "#currency_purchase_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "disclaimer_panel@common_store.disclaimer_panel": {}
      }
    ]
  },

  "category_featured_offer_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],

    "$cycle_button_panel_size": [ 15, "100%sm" ],
    "$cycle_button_size": [ "100%", "90%" ],
    "$ignore_cycle_buttons|default": false,

    "$cycle_button_visible_binding_type": "$piece_grid_visible_binding_type",
    "$cycle_button_visible_binding_name": "$piece_grid_visible_binding_name",

    "controls": [
      {
        "left_cycle_button@persona.left_cycle_button": {
          "size": [ 15, "100%sm" ],
          "$pressed_button_name": "button.cycle_featured_pieces_left",
          "$cycle_pack_button_enabled": "#is_left_cycle_featured_pieces_button_enabled"
        }
      },
      {
        "left_padding": {
          "ignored": "(not $ignore_cycle_buttons)",
          "type": "panel",
          "size": [ 2, 0 ]
        }
      },
      {
        "category_featured_offer_grid_panel": {
          "type": "panel",
          "$category_featured_offer_grid_size|default": [ "fill", "20%x" ],
          "size": "$category_featured_offer_grid_size",
          "controls": [
            {
              "category_featured_offer_grid@persona.persona_piece_offer_grid": {
                "size": [ "100%", "100%" ],
                "clip_state_change_event": "",
                "$featured_grid_dimensions|default": [ 5, 1 ],
                "grid_dimensions": "$featured_grid_dimensions",
                "grid_rescaling_type": "none",
                "maximum_grid_items": 5
              }
            }
          ]
        }
      },
      {
        "right_padding": {
          "ignored": "(not $ignore_cycle_buttons)",
          "type": "panel",
          "size": [ 2, 0 ]
        }
      },
      {
        "right_cycle_button@persona.right_cycle_button": {
          "size": [ 15, "100%sm" ],
          "$pressed_button_name": "button.cycle_featured_pieces_right",
          "$cycle_pack_button_enabled": "#is_right_cycle_featured_pieces_button_enabled"
        }
      }
    ]
  },

  "category_featured_offer_panel": {
    "type": "panel",
    "$category_featured_offer_panel_size|default": [ "100%", "100%cm + 4px" ],
    "size": "$category_featured_offer_panel_size",

    "$persona_piece_collection_name": "($info_panel_prefix + '_collection')",
    "$piece_grid_dimension_binding_type": "none",
    "$piece_grid_dimension_binding": "",
    "$is_featured": true,
    "$category_featured_offer_size|default": [ "20% - 2px", "100%" ],

    "$pressed_button_function": "('button.' + $info_panel_prefix)",

    "$input_progress_loading_binding_type": "global",
    "$input_progress_loading_binding_name": "('#is_' + $info_panel_prefix + '_section_loading')",

    "$piece_grid_visible_binding_type": "global",
    "$piece_grid_visible_binding_name": "('#is_' + $info_panel_prefix + '_offers_visible'",

    "controls": [
      {
        "category_featured_content@persona.category_featured_offer_content": {
          "$persona_piece_size": "$category_featured_offer_size"
        }
      },
      {
        "progress_loading_input_panel@persona.progress_loading_input_panel": {}
      }
    ]
  },

  "right_info_panel": {
    "type": "panel",

    "$right_info_panel_size|default": [ "100%", "100%" ],
    "size": "$right_info_panel_size",

    "$right_side_bottom_buttons|default": "persona.right_side_bottom_buttons",

    "$ignore_right_side_buttom_buttons|default": false,
    "controls": [
      {
        "info_panel": {
          "type": "panel",
          "$right_info_panel_content_size|default": [ "100% - 4px", "100% - 4px" ],
          "size": "$right_info_panel_content_size",
          "controls": [
            { "right_info_content@$right_info_content_control": {} }
          ]
        }
      },
      {
        "right_side_bottom_buttons@$right_side_bottom_buttons": {}
      }
    ]
  },
  ///////////////////////////////////////////////////////////////////////////////////////
  //// color picker controls

  "color_picker@common.tooltip_background": {
    "size": [ 210, 88 ],
    "layer": 100,
    "controls": [
      { "panel_control@$child_control": {} }
    ]
  },

  "color_grid": {
    "type": "grid",
    "size": [ "100% - 2px", "100%c + 2px" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "grid_item_template": "persona.color_grid_item",
    "grid_rescaling_type": "horizontal",
    "grid_dimension_binding": "#color_single_page_size",
    "collection_name": "color_collection",
    "bindings": [
      {
        "binding_name": "#color_single_page_size",
        "binding_name_override": "#maximum_grid_items"
      }
    ]
  },

  "color_picker_info_panel_title": {
    "type": "image",
    "size": [ "100%", 12 ],
    "alpha": "$dressing_room_panel_alpha",
    "texture": "textures/ui/White",
    "bindings": [
      {
        "binding_name": "#color_picker_info_panel_title_color",
        "binding_name_override": "#color"
      }
    ],
    "controls": [
      {
        "color_name": {
          "type": "label",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "font_type": "MinecraftTen",
          "font_scale_factor": 0.9,
          "color": "$dressing_room_right_side_default_text_color",
          "layer": 2,
          "offset": [ 2, -1 ],
          "text": "#color_picker_info_panel_title_name",
          "text_alignment": "left",
          "bindings": [
            {
              "binding_name": "#color_picker_info_panel_title_name"
            }
          ]
        }
      }
    ]
  },

  "title_rarity_background_image@persona_common.item_rarity_color_background": {
    "size": [ "100%", "100%cm + 4px" ],
    "layer": 10,
    "alpha": "$dressing_room_panel_alpha",
    "controls": [
      {
        "title_stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 8px", 10 ],
          "controls": [
            {
              "position_title_panel_offset": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "layer": 2,
                "controls": [
                  {
                    "positionable_title": {
                      "type": "label",
                      "size": [ "100%", "100%" ],
                      "offset": [ 0, -1.5 ],
                      "color": "$dressing_room_right_side_default_text_color",
                      "text": "#right_panel_title",
                      "font_type": "MinecraftTen",
                      "font_scale_factor": 0.85,
                      "text_alignment": "left",
                      "bindings": [
                        {
                          "binding_name": "#right_panel_title"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "mid_padding": {
                "type": "panel",
                "size": [ 4, "100%" ]
              }
            },
            {
              "position_rarity_panel_offset": {
                "type": "panel",
                "size": [ "100%c", 10 ],
                "layer": 2,
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "controls": [
                  {

                    "rarity_right_title": {
                      "type": "label",
                      "size": [ "default", "100%" ],
                      "offset": [ 0, 1 ],
                      "layer": 2,
                      "color": "$dressing_room_right_side_default_text_color",
                      "text": "#right_panel_title_rarity",
                      "font_scale_factor": 0.75,
                      "text_alignment": "right",
                      "bindings": [
                        {
                          "binding_name": "#right_panel_title_rarity"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// classic skins right side panel content
  "appearance_status_image_panel@common.empty_panel": {
    "size": [ "100%cm", "100%" ],
    "controls": [
      {
        "usage_limited@persona.info_bulb_icon": {
          "bindings": [
            {
              "binding_name": "#skin_pack_right_panel_usage_is_limited",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "usage_not_limited@persona.green_checkmark_icon": {
          "bindings": [
            {
              "binding_name": "(not #skin_pack_right_panel_usage_is_limited)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "appearance_status_panel": {
    "type": "panel",
    "controls": [
      {
        "appearance_status": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 4px", "100%" ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "controls": [
            {
              "appearance_status_image_panel@persona.appearance_status_image_panel": {}
            },
            {
              "label_panel": {
                "type": "panel",
                "size": [ "85%", "100%" ],
                "controls": [
                  {
                    "label": {
                      "type": "label",
                      "size": [ "100%", 10 ],
                      "offset": [ 0, -1 ],
                      "layer": 2,
                      "text_alignment": "left",
                      "color": "$dressing_room_right_side_default_text_color",
                      "text": "#skin_pack_right_panel_usage_text",
                      "font_type": "smooth",
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#skin_pack_right_panel_usage_text"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "roamable_status_notification_panel": {
    "type": "input_panel",
    "size": [ "100%", 10 ],
    "button_mappings": [
      {
        "to_button_id": "button.is_appearance_status_hovered",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "appearance_status_notification@common_buttons.static_tooltip_notification_panel": {
          "size": [ "100%", "100%" ],

          "button_mappings": [],
          "consume_hover_events": false,
          "focus_enabled": false,
          "$static_tooltip_button_visibility_binding_name": "#is_right_panel_classic_skin_pack_visible",
          "$tooltip_popup_visible_binding": "#is_appearance_status_hover_panel_visible",
          "$override_tooltip_popup_image": true,
          "$tooltip_popup_override_image_panel": "persona.appearance_status_image_panel",
          "$tooltip_text_binding_name": "#skin_pack_right_panel_usage_tooltip_text",
          "$tooltip_panel_content": "common.empty_panel",
          "$tooltip_panel_content_background_alpha": 0.0,
          "$tooltip_panel_size": [ "140%", "100%cm + 8px" ],
          "$tooltip_panel_offset": [ "-14%", "-100%c - 2px" ],
          "$tooltip_popup_chevron_offset": [ "7%", "100%y - 3px" ],
          "$tooltip_chevron_anchor": "bottom_middle",
          "$tooltip_text_font_type": "smooth"
        }
      },
      {
        "roamable_status@persona.skin_info_label_and_image": {
          "$texture_to_show": "persona.appearance_status_image_panel",
          "$text_binding_name": "#skin_pack_right_panel_usage_text"
        }
      }
    ]
  },

  "pack_information_skins_and_world": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "40%", 22 ],
    "controls": [
      {
        "skins@persona.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona.mashup_hangar",
          "$text_binding_name": "#skin_pack_right_panel_skin_count_text"
        }
      },
      {
        "mid_padding": {
          "type": "panel",
          "max_size": [ "100%", 2 ]
        }
      },
      {
        "worlds@persona.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona.mashup_world",
          "$text_binding_name": "#skin_pack_right_panel_world_count_text"
        }
      }
    ]
  },

  "pack_information_textures_and_usage_tooltip": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "60%", 22 ],
    "controls": [
      {
        "textures@persona.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona.mashup_PaintBrush",
          "$text_binding_name": "#skin_pack_right_panel_texture_pack_count_text"
        }
      },
      {
        "mid_padding": {
          "type": "input_panel",
          "size": [ "100%", 2 ]
        }
      },
      { "appearance_status@persona.roamable_status_notification_panel": {} }
    ]
  },

  "realms_plus_skin_pack_timer": {
    "type": "image",
    "layer": 6,
    "texture": "textures/ui/background_with_border",
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "size": [ "100% + 2px", "33% + 2px" ],
    "bindings": [
      {
        "binding_name": "#has_realms_plus_timer",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "content_sizer@common.empty_panel": {
          "size": [ "100% - 2px", "100% - 2px" ],
          "controls": [
            {
              "gradient_background@realmsPlus.gradient_image_stack": {
                "layer": 2
              }
            },
            {
              "realms_plus_timer": {
                "type": "stack_panel",
                "layer": 3,
                "orientation": "horizontal",
                "size": [ "100%", "100%" ],
                "controls": [
                  {
                    "realms_logo_container@common.empty_panel": {
                      "size": [ 10, "100%" ],
                      "controls": [
                        {
                          "realms_logo@persona.realms_small_icon": {
                            "anchor_from": "left_middle",
                            "anchor_to": "left_middle",
                            "offset": [ 2, 0 ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "padding_timer@common.empty_panel": {
                      "size": [ 2, "100%" ]
                    }
                  },
                  {
                    "timer_container@common.empty_panel": {
                      "size": [ "fill", "100%" ],
                      "controls": [
                        {
                          "timer_string": {
                            "type": "label",
                            "color": "$dressing_room_right_side_default_text_color",
                            "text": "#realms_plus_skin_pack_timer",
                            "anchor_from": "left_middle",
                            "anchor_to": "left_middle",
                            "font_scale_factor": 0.5,
                            "bindings": [
                              {
                                "binding_name": "#realms_plus_skin_pack_timer"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "right_panel_classic_skin_pack": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "skin_pack_preview_image_panel@common.empty_panel": {
          "size": [ "28%", "56.25%x" ],
          "max_size": [ "28%", "100%" ],
          "$in_use_grid_collection_name": "skin_pack_in_grid_item",
          "controls": [
            {
              "skin_pack_preview_image_panel@persona.in_use_grid_item": {
                "size": [ "177.7777%y", "90%" ],
                "controls": [
                  { "realms_plus_timer_background@persona.realms_plus_skin_pack_timer": {} }
                ]
              }
            }
          ]
        }
      },
      {
        "pack_info": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "70%", "100%" ],
          "controls": [
            {
              "top_padding@common.empty_panel": {
                "size": [ "100%", 2 ]
              }
            },
            {
              "information": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  { "skins_and_world@persona.pack_information_skins_and_world": {} },
                  { "textures_and_usage@persona.pack_information_textures_and_usage_tooltip": {} }
                ]
              }
            },
            {
              "padding@common.empty_panel": {
                "size": [ "100%", "fill" ]
              }
            },
            {
              "disclaimer_panel@common_store.disclaimer_panel": {}
            },
            {
              "bottom_padding": {
                "type": "panel",
                "size": [ "100%", 5 ]
              }
            }
          ]
        }
      }
    ]
  },

  "featured_skin_pack_button_content_panel": {
    "type": "panel",
    "controls": [
      {
        "featured_skin_pack_button_content_visible_panel": {
          "type": "panel",
          "controls": [
            {
              "featured_skin_pack_button_content@persona.in_use_grid_item": {
                "size": [ "100% - 4px", "100% - 4px" ],
                "$in_use_grid_collection_name": "$featured_skin_pack_collection_name"
              }
            },
            {
              "offer_state_info@persona.offer_state_info": {
                "$offer_state_info_collection_name": "$featured_skin_pack_collection_name"
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "collection",
              "binding_name": "(not #is_featured_classic_skin_loading)",
              "binding_collection_name": "$featured_skin_pack_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_loading@persona.progress_loading": {
          "bindings": [
            {
              "binding_type": "collection",
              "binding_condition": "always",
              "binding_name": "#is_featured_classic_skin_loading",
              "binding_collection_name": "$featured_skin_pack_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },


  "featured_skin_pack_button_panel": {
    "type": "panel",
    "size": [ "33%", "56.25%x" ],
    "$featured_skin_pack_collection_name": "persona_featured_skin_pack_collection",
    "$pressed_button_name": "button.featured_skin_pack_pressed",
    "bindings": [
      {
        "binding_type": "collection",
        "binding_name": "#is_featured_pack_visible",
        "binding_collection_name": "$featured_skin_pack_collection_name",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "featured_skin_pack_button@common.button": {
          "max_size": [ "100%", "100%" ],
          "$controller_left_bumper_mapping|default": "",
          "$controller_right_bumper_mapping|default": "",
          "controls": [
            { "default@common.empty_panel": {} },
            {
              "hover@persona.focus_border_skin_picker": {}
            },
            {
              "pressed@persona.focus_border_skin_picker": {}
            },
            { "featured_content@persona.featured_skin_pack_button_content_panel": {} }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "focused"
            },
            {
              "to_button_id": "button.asset_button_hovered",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_tab_left",
              "to_button_id": "$controller_left_bumper_mapping",
              "mapping_type": "focused"
            },
            {
              "from_button_id": "button.menu_tab_right",
              "to_button_id": "$controller_right_bumper_mapping",
              "mapping_type": "focused"
            }
          ],
          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$featured_skin_pack_collection_name",
              "binding_collection_prefix": "persona_featured_skin_pack"
            }
          ]
        }
      }
    ]
  },

  "minecraft_ten_button_label": {
    "type": "label",
    "text": "$persona_minecraft_ten_button_label_text",
    "font_type": "MinecraftTen",
    "color": "$text_color",
    "text_alignment": "center"
  },

  "to_realms_plus_buy_screen_content@common.empty_panel": {
    "offset": [ 0, 1 ],
    "controls": [
      {
        "realms_text": {
          "type": "label",
          "text": "dr.classic_skins.realms_plus_button",
          "font_type": "MinecraftTen",
          "text_alignment": "center",
          "color": "$light_button_default_text_color"
        }
      },
      {
        "realms_banner@persona.realms_banner_big": {
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "offset": [ -3, 1 ],
          "controls": [
            {
              "realms_icon@persona.realms_icon": {
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "layer": 1,
                "offset": [ 4, 0 ]
              }
            }
          ]
        }
      }
    ]
  },

  "right_panel_bottom_buttons": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [ 0, 16.5 ],
    "size": [ "100% - 4px", 22 ],
    "controls": [
      { "purchase_buttons_panel@persona.purchase_buttons": {} },
      {
        "padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "ending_button@common.empty_panel": {
          "size": [ "50% - 6px", "100%" ],
          "controls": [
            {
              "see_pack_in_store@common_buttons.light_text_button": {
                "$button_offset": [ 0, -2 ],
                "size": [ "100%", "100%" ],
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "$pressed_button_name": "button.see_pack_in_store",
                "$font_type": "MinecraftTen",
                "$button_text": "dr.classic_skins.see_pack_in_store",
                "$focus_id": "see_pack_in_store_button",
                "bindings": [
                  {
                    "binding_name": "(not #show_realms_plus_button)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "to_realms_plus@common_buttons.light_content_button": {
                "$button_offset": [ 0, -2 ],
                "size": [ "100%", "100%" ],
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "$button_content": "persona.to_realms_plus_buy_screen_content",
                "$pressed_button_name": "button.to_realms_plus",
                "$focus_id": "see_pack_in_store_button",
                "bindings": [
                  {
                    "binding_name": "#show_realms_plus_button",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "right_panel_classic_skin_pack_information@common.empty_panel": {
    "controls": [
      {
        "content_panel@common.empty_panel": {
          "controls": [
            { "content_pack@persona.right_panel_classic_skin_pack": {} },
            { "bottom_buttons@persona.right_panel_bottom_buttons": {} }
          ],
          "bindings": [
            {
              "binding_name": "(not #is_classic_skin_current_offer_loading)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_loading@persona.loading_progress_bars": {
          "bindings": [
            {
              "binding_name": "#is_classic_skin_current_offer_loading",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "usage_limited_bulb@persona.info_bulb_icon": {
    "offset": [ 7, 8 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left"
  },

  "usage_limited_right_panel_text": {
    "type": "label",
    "layer": 2,
    "size": [ "100% - 23px", "default" ],
    "text": "#right_panel_description",
    "font_type": "smooth",
    "font_scale_factor": 0.85,
    "color": "$dressing_room_right_side_default_text_color",
    "bindings": [
      {
        "binding_name": "#right_panel_description"
      }
    ]
  },

  "usage_limited_settings_profile_button@common_buttons.underline_button": {
    "layer": 2,
    "$pressed_button_name": "button.show_profile_settings",
    "$single_label_size": [ "default", 10 ],
    "$single_line_label_offset": [ 0, 0 ],
    "$single_line_font_scale_factor": 1,
    "$single_line_label_color": "$right_side_default_text_color",
    "$single_line_label_text": "dr.go_to_profile_settings_text"
  },

  "usage_limited_vertical_stack": {
    "type": "stack_panel",
    "orientation": "vertical",
    "offset": [ 18, 7 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      { "text@persona.usage_limited_right_panel_text": {} },
      { "text_button_for_settings@usage_limited_settings_profile_button": {} }
    ]
  },
  
  "select_custom_skin@common_buttons.light_content_button": {
    "$ignore_choose_skin|default": true,
    "ignored": "$ignore_choose_skin",
    "size": [ "50%", 22 ],
    "offset": [ 5, "100%y - 6px" ],
    "$button_offset": [ 0, -2 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "$pressed_button_name": "button.choose_custom_skin",
    "$button_content": "persona.minecraft_ten_button_label",
    "$persona_minecraft_ten_button_label_text": "dr.classic_skins.choose_custom_skin"
  },

  "right_panel_classic_skin_default_pack_information": {
    "type": "panel",
    "controls": [
      { "usage_limited@persona.usage_limited_bulb": {} },
      { "stack@persona.usage_limited_vertical_stack": {} },
      { "select_skin@persona.select_custom_skin": {} }
    ]
  },

  "right_panel_classic_skin_content": {
    "type": "panel",
    "controls": [
      {
        "skin_pack_info@persona.right_panel_classic_skin_pack_information": {
          "bindings": [
            {
              "binding_name": "#is_right_panel_classic_skin_pack_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "built_in_skin_pack@common.empty_panel": {
          "controls": [
            {
              "default_skin_pack_info@persona.right_panel_classic_skin_default_pack_information": {
                "$ignore_choose_skin": false,
                "bindings": [
                  {
                    "binding_name": "#is_right_panel_classic_custom_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "blank_skin_pack_info@persona.right_panel_classic_skin_default_pack_information": {
                "$ignore_choose_skin": true,
                "bindings": [
                  {
                    "binding_name": "(not #is_right_panel_classic_custom_visible)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(not #is_right_panel_classic_skin_pack_visible)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "right_panel_classic_skins_title": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "bindings": [
      {
        "binding_name": "#is_right_panel_classic_skin_pack_title_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "padding_start@common.empty_panel": {
          "size": [ "4px", "100%sm" ]
        }
      },
      {
        "title_panel@common.empty_panel": {
          "type": "input_panel",
          "size": [ "60% - 4px", "100%c + 4px" ],
          "controls": [
            {
              "title": {
                "type": "label",
                "size": [ "100%", 10 ],
                "layer": 2,
                "color": "$dressing_room_right_side_default_text_color",
                "font_type": "MinecraftTen",
                "offset": [ 0, -1.5 ],
                "text": "#right_panel_title",
                "text_alignment": "left",
                "font_scale_factor": 0.85,
                "bindings": [
                  {
                    "binding_name": "#right_panel_title"
                  },
                  {
                    "binding_name": "#is_right_panel_classic_skin_pack_title_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "author_panel@common.empty_panel": {
          "size": [ "40% - 4px", "100%c + 4px" ],
          "controls": [
            {
              "author": {
                "type": "label",
                "size": [ "100%", 10 ],
                "offset": [ 0, 0.5 ],
                "layer": 2,
                "color": "$dressing_room_right_side_default_text_color",
                "text": "#skin_pack_author",
                "text_alignment": "right",
                "font_scale_factor": 0.75,
                "bindings": [
                  {
                    "binding_name": "#skin_pack_author"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_end@common.empty_panel": {
          "size": [ "4px", "100%sm" ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// body sizing objects

  "size_option_content": {
    "type": "image",
    "texture": "textures/ui/slots_bg",
    "size": [ "100% - 2px", "100%" ],
    "controls": [
      {
        "size_option_image": {
          "type": "image",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "size": "$image_size",
          "offset": [ 0, -5 ],
          "bindings": [
            {
              "binding_type": "collection",
              "binding_collection_name": "$size_option_collection_name",
              "binding_name": "$size_option_image_binding_name",
              "binding_name_override": "#texture"
            }
          ]
        }
      }
    ]
  },

  "size_option_panel": {
    "type": "panel",
    "$size_option_panel_size|default": [ "25%", "100%" ],
    "size": "$size_option_panel_size",
    "controls": [
      {
        "size_option_button@common.button": {
          "$button_content": "persona.size_option_content",
          "$pressed_button_name": "$size_option_pressed_button_name",
          "$focus_id": "body_option",
          "controls": [
            { "default@common.empty_panel": {} },
            {
              "hover@persona.focus_border_skin_picker": {
                "layer": 4
              }
            },
            {
              "pressed@persona.selected_border_skin_picker": {
                "layer": 3
              }
            },
            {
              "content@$button_content": {
                "layer": 2
              }
            },
            {
              "equipped@persona.equipped_border_skin_picker": {
                "layer": 10,
                "size": [ "100% + 2px", "100% + 2px" ],
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$equipped_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "selected@persona.selected_border_skin_picker": {
                "layer": 8,
                "size": [ "100% + 2px", "100% + 2px" ],
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$selection_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "focused"
            },
            {
              "to_button_id": "button.piece_button_hovered",
              "mapping_type": "pressed"
            }
          ],
          "size": [ "100%", "100%" ],
          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$size_option_collection_name",
              "binding_collection_prefix": "$size_option_collection_prefix"
            }
          ]
        }
      }
    ]
  },


  "body_size_option_grid": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "collection_name": "$size_option_collection_name",
    "layer": 10,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$size_option_collection_name",
        "binding_collection_prefix": "$size_option_collection_prefix"
      }
    ],
    "controls": [
      {
        "smaller@persona.size_option_panel": {
          "$image_size": [ 18, 28.8 ],
          "collection_index": 0
        }
      },
      {
        "small@persona.size_option_panel": {
          "$image_size": [ 18, 32.4 ],
          "collection_index": 1
        }
      },
      {
        "medium@persona.size_option_panel": {
          "$image_size": [ 18, 36 ],
          "collection_index": 2
        }
      },
      {
        "tall@persona.size_option_panel": {
          "$image_size": [ 18, 37.8 ],
          "collection_index": 3
        }
      }
    ]
  },

  "arm_size_option_grid": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "collection_name": "$size_option_collection_name",
    "layer": 10,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$size_option_collection_name",
        "binding_collection_prefix": "$size_option_collection_prefix"
      }
    ],
    "controls": [
      {
        "slim@persona.size_option_panel": {
          "$image_size": [ 12.8, 20 ],
          "collection_index": 0
        }
      },
      {
        "wide@persona.size_option_panel": {
          "$image_size": [ 16, 20 ],
          "collection_index": 1
        }
      }
    ]
  },

  "body_sizes@persona.body_size_option_grid": {
    "size": [ "100%", 50 ],
    "$size_option_pressed_button_name": "button.change_height",
    "$size_option_image_binding_name": "#height_image_binding",
    "$size_option_dimension_binding": "#body_size_dimensions",
    "$selection_border_binding": "#body_size_selected",
    "$equipped_border_binding": "#body_size_equipped",
    "$size_option_collection_prefix": "body_size",
    "$size_option_collection_name": "body_size_collection"
  },

  "arm_sizes@persona.arm_size_option_grid": {
    "size": [ "100%", 30 ],
    "$size_option_pressed_button_name": "button.change_arm_size",
    "$size_option_image_binding_name": "#arms_image_binding",
    "$size_option_dimension_binding": "#arm_size_dimensions",
    "$selection_border_binding": "#arm_size_selected",
    "$equipped_border_binding": "#arm_size_equipped",
    "$size_option_collection_prefix": "arm_size",
    "$size_option_collection_name": "arm_size_collection"
  },

  "arm_size_label": {
    "type": "label",
    "text": "dr.arm_size_label_text",
    "color": "$dressing_room_size_default_text_color"
  },

  "body_size_label": {
    "type": "label",
    "text": "dr.body_size_label_text",
    "color": "$dressing_room_size_default_text_color"
  },

  "sizing_panel": {
    "type": "stack_panel",
    "size": [ "100% - 4px", "100%" ],
    "controls": [
      { "body_size_label@persona.body_size_label": {} },
      {
        "pad_0": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "body_size_option@persona.body_sizes": {}
      },
      {
        "pad_1": {
          "type": "panel",
          "size": [ "100%", 6 ]
        }
      },
      { "arm_size_label@persona.arm_size_label": {} },
      {
        "pad_2": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "arm_sizes@persona.arm_sizes": {}
      }
    ]
  },


  ///////

  "loading_progress_bars": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/loading_bar",
    "anchor_from": "center",
    "anchor_to": "center",
    "offset": [ 0, 6 ],
    "size": [ 64, 8 ],
    "uv_size": [ 64, 8 ],
    "uv": "@progress.bar_animation",
    "color": [ 0.7, 0.7, 0.7, 1.0 ],
    "controls": [
      {
        "loading_text": {
          "type": "label",
          "offset": [ 0, -12 ],
          "layer": 2,
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "text_alignment": "center",
          "text": "dr.loading",
          "color": "$dressing_room_right_side_dark_text_color"
        }
      }
    ]
  },

  "pick_axe_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 91,
    "frame_step": 10,
    "fps": 30,
    "reversible": false,
    "easing": "linear"
  },

  "loading_icon": {
    "type": "image",
    "layer": 1,
    "texture": "textures/ui/mine_chop_dig_animation",
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "size": [ 30, 30 ],
    "uv_size": [ 10, 10 ],
    "uv": "@persona.pick_axe_animation",
    "color": [ 1, 1, 1, 1 ]
  },

  "preview_skin_full@common_buttons.light_content_button": {
    "layer": 92, // Must be usable on top of skin rotation input panel which has layer of 90
    "$button_content": "persona.view_character_icon",
    "$button_size_override": [ 22, 22 ],
    "$pressed_button_name": "button.preview_skin",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true
  },

  "color_picker_right_cycle@common_buttons.light_content_button": {
    "$button_content": "persona.right_icon",
    "$pressed_button_name": "button.swap_color_channel_right",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "color_picker_left_cycle@common_buttons.light_content_button": {
    "$button_content": "persona.left_icon",
    "$pressed_button_name": "button.swap_color_channel_left",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "leave_color_picker@common_buttons.light_content_button": {
    "$button_content": "persona.close_color_icon",
    "$pressed_button_name": "button.toggle_skin_color_picker",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false
  },


  "left_limb_button@common_buttons.light_content_button": {
    "$button_content": "persona.left_icon",
    "$pressed_button_name": "button.swap_to_left_limb",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "right_limb_button@common_buttons.light_content_button": {
    "$button_content": "persona.right_icon",
    "$pressed_button_name": "button.swap_to_right_limb",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "skin_color_picker@common_buttons.light_content_button": {
    "$button_content": "persona.color_picker_icon_content",
    "layer": 92,
    "$pressed_button_name": "button.toggle_skin_color_picker",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true
  },

  "icon_image": {
    "type": "image",
    "layer": 2
  },

  "lock_icon@icon_image": {
    "size": [ 12, 11 ],
    "texture": "textures/ui/icon_lock"
  },

  "realms_icon@icon_image": {
    "size": [ 11, 14 ],
    "texture": "textures/ui/realmsIcon"
  },

  "realms_small_icon@icon_image": {
    "size": [ 8, 10 ],
    "texture": "textures/ui/realm_icon_small"
  },

  "realms_banner_small@icon_image": {
    "size": [ 14, 12 ],
    "texture": "textures/ui/realm_banner_small"
  },

  "realms_banner_big@icon_image": {
    "size": [ 24, 20 ],
    "texture": "textures/ui/realm_banner_big"
  },

  "info_bulb_icon@icon_image": {
    "size": [ 7, 9 ],
    "texture": "textures/ui/infobulb"
  },

  "mashup_hangar@icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_skin_pack"
  },

  "mashup_PaintBrush@icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_resource_pack"
  },

  "mashup_world@icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_world_template"
  },

  "checkmark_icon@icon_image": {
    "size": [ 7, 6 ],
    "texture": "textures/ui/listcheck_smaller"
  },

  "green_checkmark_icon@icon_image": {
    "size": [ 9, 7 ],
    "texture": "textures/ui/realms_green_check"
  },

  "view_character_icon@icon_image": {
    "size": [ 14, 14 ],
    "texture": "textures/ui/icon_preview"
  },

  "color_picker_icon_content": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "orientation": "horizontal",
    "controls": [
      {
        "color_picker_icon@icon_image": {
          "size": [ 16, 16 ],
          "texture": "textures/ui/color_picker"
        }
      },
      {
        "padding@common.empty_panel": {
          "size": [ 4, 0 ]
        }
      },
      {
        "color_picker_label": {
          "type": "label",
          "size": [ "fill", "100%" ],
          "color": "$text_color",
          "text": "dr.color.button_name",
          "font_type": "MinecraftTen",
          "text_alignment": "center"
        }
      }
    ]
  },

  "right_icon@icon_image": {
    "size": [ 4, 7 ],
    "color": "$dressing_room_dark_button_color",
    "texture": "textures/ui/chevron_right"
  },

  "left_icon@icon_image": {
    "size": [ 4, 7 ],
    "color": "$dressing_room_dark_button_color",
    "texture": "textures/ui/chevron_left"
  },

  "offer_state_info": {
    "type": "panel",

    "$ignore_offer_state_info|default": false,
    "$offer_state_info_collection_name|default": "",

    "controls": [
      {
        "offer_state_info_panel": {
          "ignored": "$ignore_offer_state_info",
          "type": "panel",
          "controls": [
            {
              "sale_ribbon@persona.icon_image": {
                "size": [ 9, 6 ],
                "offset": [ -1, -1 ],
                "layer": 20,
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "texture": "textures/ui/slot_sale",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_on_sale",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "limited_time@persona.icon_image": {
                "size": [ 9, 9 ],
                "layer": 20,
                "anchor_from": "top_right",
                "anchor_to": "top_right",
                "texture": "textures/ui/icon_timer",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_limited_time_offer",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "coin_icon@persona.icon_image": {
                "size": [ 9, 9 ],
                "layer": 21,
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "texture": "textures/ui/icon_minecoin_9x9",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_purchasable_and_not_free",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "free_download@persona.icon_image": {
                "size": [ 8, 10 ],
                "layer": 22,
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "texture": "textures/ui/free_download",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_redeemable",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "new_offer_symbol@persona.icon_image": {
                "size": [ 9, 9 ],
                "offset": [ -1, -1 ],
                "layer": 21,
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "texture": "textures/ui/icon_new_item",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_new",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "locked_icon@persona.icon_image": {
                "size": [ 12, 11 ],
                "layer": 20,
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "texture": "textures/ui/icon_lock",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_locked",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "achievement_icons@persona.icon_image": {
                "size": [ 12, 11 ],
                "layer": 20,
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_achievement",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#achievement_offer_lock_state_texture",
                    "binding_name_override": "#texture"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "close_color_icon@icon_image": {
    "size": [ 15, 15 ],
    "color": "$dressing_room_dark_button_color",
    "texture": "textures/ui/close_button_default"
  },

  "color_grid_item@common_buttons.light_content_button": {
    "size": [ "20%", "100%x" ],
    "layer": 3,
    "$hover_button_texture": "textures/ui/button_borderless_light",
    "$button_pressed_offset": [ 0, 0 ],
    "$button_content": "persona.color_grid_icon",
    "$pressed_button_name": "button.change_piece_color",
    "$focus_id": "color_grid_item",
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "color_collection",
        "binding_collection_prefix": "color"
      }
    ]
  },

  "color_grid_icon": {
    "type": "image",
    "size": [ "100% + 2px", "100% + 2px" ],
    "texture": "textures/ui/White",
    "bindings": [
      {
        "binding_name": "#current_panel_color",
        "binding_name_override": "#color",
        "binding_type": "collection",
        "binding_collection_name": "color_collection"
      }
    ],
    "controls": [
      {
        "equipped@equipped_border_skin_picker": {
          "bindings": [
            {
              "binding_name": "#color_selected",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "color_collection"
            }
          ]
        }
      }
    ]
  },

  "in_use_grid_item": {
    "type": "image",
    "layer": 5,
    "size": [ 20, 20 ],
    "fill": true,
    "bindings": [
      {
        "binding_type": "collection",
        "binding_collection_name": "$in_use_grid_collection_name",
        "binding_name": "#in_use_texture",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$in_use_grid_collection_name",
        "binding_name": "#in_use_texture_file_system",
        "binding_name_override": "#texture_file_system"
      }
    ]
  },

  "color_picker_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "top_pad@common.empty_panel": {
          "size": [ "100%", 2 ]
        }
      },
      {
        "top_bar": {
          "type": "stack_panel",
          "size": [ "100%", 20 ],
          "orientation": "horizontal",
          "controls": [
            {
              "cycle_left": {
                "type": "panel",
                "size": [ "100%y", "100%" ],
                "controls": [
                  {
                    "button@color_picker_left_cycle": {
                      "layer": 2,
                      "offset": [ 1, 0 ],
                      "bindings": [
                        {
                          "binding_name": "#left_color_cycle_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "left_bumper_panel@common.empty_panel": {
                      "bindings": [
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "left_bumper@common.gamepad_helper_left_bumper": {
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "offset": [ 0, -20 ],
                            "$hide_description": true,
                            "bindings": [
                              {
                                "binding_name": "#gamepad_helper_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "pad_0": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "title": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "skin_title": {
                      "type": "label",
                      "size": [ "100%", "default" ],
                      "max_size": [ "100%", "100%" ],
                      "text": "#color_picker_title",
                      "text_alignment": "center",
                      "color": "$dressing_room_color_title",
                      "font_type": "MinecraftSeven",
                      "layer": 2,
                      "bindings": [
                        {
                          "binding_name": "#color_picker_title"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "pad_1": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "cycle_right": {
                "type": "panel",
                "size": [ "100%y", "100%" ],
                "controls": [
                  {
                    "button@color_picker_right_cycle": {
                      "layer": 2,
                      "offset": [ -1, 0 ],
                      "bindings": [
                        {
                          "binding_name": "#right_color_cycle_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "right_bumper_panel@common.empty_panel": {
                      "bindings": [
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "right_bumper@common.gamepad_helper_right_bumper": {
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "offset": [ 0, -20 ],
                            "$hide_description": true,
                            "bindings": [
                              {
                                "binding_name": "#gamepad_helper_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "middle_pad@common.empty_panel": {
          "size": [ "100%", 1 ]
        }
      },
      {
        "grid_of_colors@persona.scroll_section": {
          "size": [ "100%", "fill" ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "$scrolling_content": "persona.color_grid"
        }
      }
    ]
  },

  "information_and_selection_panel": {
    "type": "panel",

    "$info_and_selection_panel_size|default": [ "100%", "100%" ],
    "size": "$info_content_panel_size",

    "$info_title_control|default": "common.empty_panel",
    "$info_content_control|default": "common.empty_panel",

    "controls": [
      {
        "stack": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": "$info_and_selection_panel_size",
          "controls": [
            {
              "title_bar": {
                "type": "image",
                "layer": 2,
                "texture": "textures/ui/dressing_room_banner",
                "color": "$dressing_room_semi_dark_bg_color",
                "alpha": "$dressing_room_panel_alpha",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  { "dressing_room_title@$info_title_control": {} }
                ]
              }
            },
            {
              // All of these sections are togglable
              "bottom_section_panel@$info_content_control": {
                "$info_bottom_section_size|default": [ "100%", "fill" ],
                "size": "$info_bottom_section_size"
              }
            }
          ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// helper objects
  "horizontal_base_padding": {
    "type": "panel",
    "size": [ 4, "100%" ]
  },

  "horizontal_fill_padding": {
    "type": "panel",
    "size": [ "fill", "100%" ]
  },

  "horizontal_left_padding": {
    "type": "panel",
    "size": [ 5, "100%" ]
  },

  "vertical_base_padding": {
    "type": "panel",
    "size": [ "100%", 4 ]
  },

  "vertical_fill_padding": {
    "type": "panel",
    "size": [ "100%", "fill" ]
  },

  "scroll_section@common.scrolling_panel": {
    "size": [ "100%", "100%" ],
    "$scrolling_pane_size": [ "100%", "100%" ],
    "$scrolling_pane_offset": [ 0, 0 ],
    "$scrolling_content_anchor_from": "top_middle",
    "$scrolling_content_anchor_to": "top_middle",
    "$scroll_size": [ 5, "100% - 8px" ],
    "$scroll_bar_left_padding_size": [ 0, 0 ],
    "$show_background": false,
    "$bar_visible": true
  },

  "skin_info_label_and_image": {
    "type": "panel",
    "controls": [
      {
        "content_stack": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 4px", "100%" ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "controls": [
            {
              "image_panel@common.empty_panel": {
                "size": [ "100%c", "100%" ],
                "controls": [
                  { "image@$texture_to_show": {} }
                ]
              }
            },
            {
              "mid_padding": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "label_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "label": {
                      "type": "label",
                      "size": [ "100%", 10 ],
                      "layer": 2,
                      "text_alignment": "left",
                      "color": "$dressing_room_right_side_default_text_color",
                      "text": "$text_binding_name",
                      "font_type": "smooth",
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "$text_binding_name"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "dialog_background_object@common_dialogs.dialog_background_hollow_common": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "dialog_background_object_content@persona.dialog_background_object_content": {} }
    ]
  },

  "dialog_background_object_thin@common_dialogs.dialog_background_thin": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "dialog_background_object_content@persona.dialog_background_object_content": {} }
    ]
  },

  "dialog_background_object_content@common.empty_panel": {
    "$dialog_bg_size|default": [ "100% - 16px", "100% - 16px" ],
    "offset": [ 0, 0 ],
    "type": "image",
    "size": "$dialog_bg_size",
    "texture": "textures/ui/White",
    "color": "$dressing_room_dark_bg_color",
    "alpha": "$dressing_room_background_alpha",
    "layer": 2,
    "controls": [
      {
        "dialog_content@$persona_dialog_content": {
          "layer": 4
        }
      }
    ]
  },

  "sub_category_label_image_button_content": {
    "type": "panel",
    "size": [ "100% - 6px", "100%" ],
    "controls": [
      {
        "stack_content": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "100%" ],

          "$content_label_image_binding_type|default": "global",
          "$content_label_image_file_system_binding_type|default": "none",
          "$content_label_image_collection_name|default": "",

          "controls": [
            {
              "content_label_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "content_label": {
                      "type": "label",
                      "size": [ "100%", 12 ],
                      "layer": 10,
                      "text": "$content_label_binding_name",
                      "color": "$text_color",
                      "bindings": [
                        {
                          "binding_type": "$content_label_image_binding_type",
                          "binding_collection_name": "$content_label_image_collection_name",
                          "binding_name": "$content_label_binding_name"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "content_image_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "$content_image_size|default": [ 15, 14 ],
                "controls": [
                  {
                    "content_image": {
                      "type": "image",
                      "size": "$content_image_size",
                      "layer": 2,
                      "alpha": 1.0,
                      "$border_alpha|default": 0.0,
                      "$content_image_binding_name|default": "",
                      "$content_image_binding_system|default": "",
                      "$content_image_bindings|default": [],
                      "$content_image_is_dynamic|default": false, // ie. it is determined by a bind
                      "controls": [
                        {
                          "border_image": {
                            "type": "image",
                            "size": [ "100% + 2px", "100% + 4px" ],
                            "layer": 3,
                            "alpha": 0.0,
                            "texture": "textures/ui/square_image_border_white",
                            "$border_bindings|default": [],
                            "bindings": "$border_bindings",
                            "$has_border|default": false,
                            "variables": [
                              {
                                "requires": "$has_border",
                                "$border_bindings": [
                                  {
                                    "binding_type": "$content_label_image_binding_type",
                                    "binding_name": "#border_alpha",
                                    "binding_collection_name": "$content_label_image_collection_name",
                                    "binding_name_override": "#alpha",
                                    "binding_condition": "always"
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ],
                      "variables": [
                        {
                          "requires": "$content_image_is_dynamic",
                          "$content_image_bindings": [
                            {
                              "binding_type": "$content_label_image_binding_type",
                              "binding_collection_name": "$content_label_image_collection_name",
                              "binding_name": "$content_image_binding_name",
                              "binding_name_override": "#texture"
                            },
                            {
                              "binding_type": "$content_label_image_file_system_binding_type",
                              "binding_collection_name": "$content_label_image_collection_name",
                              "binding_name": "$content_image_binding_system",
                              "binding_name_override": "#texture_file_system"
                            }
                          ]
                        }
                      ],

                      "texture": "$content_image_binding_name",
                      "bindings": "$content_image_bindings"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "bottom_bar": {
          "type": "image",
          "texture": "textures/ui/White",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "offset": [ 0, "7%" ],
          "size": [ "100%", "5%" ],
          "color": "$dressing_room_sub_category_seperator_color",
          "alpha": 0.2
        }
      }
    ]
  },

  "label_image_button_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 6px", "100%" ],

    "$content_label_image_binding_type|default": "global",
    "$content_label_image_collection_name|default": "",

    "controls": [
      {
        "content_label_panel": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "content_label": {
                "type": "label",
                "size": [ "100%", 12 ],
                "layer": 10,
                "text": "$content_label_binding_name",
                "color": "$text_color",
                "font_type": "MinecraftTen",
                "offset": [ 0, -2 ],
                "bindings": [
                  {
                    "binding_type": "$content_label_image_binding_type",
                    "binding_collection_name": "$content_label_image_collection_name",
                    "binding_name": "$content_label_binding_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "content_image_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "content_image": {
                "type": "image",
                "$content_image_size|default": [ 11, 11 ],
                "size": "$content_image_size",
                "layer": 2,

                "$content_image_binding_name|default": "",
                "$content_image_bindings|default": [],
                "$content_image_is_dynamic|default": false, // ie. it is determined by a bind

                "variables": [
                  {
                    "requires": "$content_image_is_dynamic",
                    "$content_image_bindings": [
                      {
                        "binding_type": "$content_label_image_binding_type",
                        "binding_collection_name": "$content_label_image_collection_name",
                        "binding_name": "$content_image_binding_name",
                        "binding_name_override": "#texture"
                      }
                    ]
                  }
                ],

                "texture": "$content_image_binding_name",
                "bindings": "$content_image_bindings"
              }
            }
          ]
        }
      }
    ]
  },

  "subcategory_button@common_buttons.dark_content_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "to_button_id": "$hover_button_name",
        "mapping_type": "pressed"
      }
    ]
  },

  "persona_classic_skin_paper_doll": {
    "type": "custom",
    "$paper_doll_offset|default": [ 0, -7 ],
    "offset": "$paper_doll_offset",
    "size": [ "100%", "100%" ],
    "renderer": "paper_doll_renderer",
    "camera_tilt_degrees": -10,
    "starting_rotation": 30,
    "use_selected_skin": false,
    "use_skin_gui_scale": true,
    "enable_scissor_test": true,
    "animation_reset_name": "screen_animation_reset",
    "anims": [
      "@common.screen_exit_size_animation_push",
      "@common.screen_exit_size_animation_pop",
      "@common.screen_entrance_size_animation_push",
      "@common.screen_entrance_size_animation_pop"
    ]
  },

  /*
  SKIN DOLL BUTTON
    Requires:
      - $content_size
      - $primary_collection_name
      - $primary_collection_prefix
      - $secondary_collection_name
      - $secondary_collection_prefix
      - $pressed_button_name
     
    Bindings:
      - #is_skin_selected:
        Boolean to enable the selected border on a skin in the primary collection. Has primary
        and secondary collections.
      - #is_skin_equipped:
        Boolean to enable the equipped border on a skin in the primary collection. Has primary
        and secondary collections.
      - #classic_skin_index
        The skin setting binding. Has primary and secondary collections.
      - #is_skin_owned:
        Boolean to enable the locked icon on the skin in the primary collection. Has primary
        and secondary collections.
      - #is_skin_index_visible
        Boolean to disable the entire object but the object still must be present for grid
        sizes. Has primary and secondary collections.
      - #is_skin_not_equippable
        Boolean to enable the locked icon on the skin in the primary collection. Has primary
        and secondary collections.
      - #is_skin_realms_plus
        Boolean to enable the realms plus icon on the skin in the primary collection. Has primary
        and secondary collections.

    $content_size:
      The size of the panel. In general, the y component should be "153%x".

    $primary_collection_name:
    $primary_collection_prefix:
      The name and prefix for the primary collection you want this skin to be in. Usually this is the 
      skin index collection for the skin, not the pack.

    $secondary_collection_name:
    $secondary_collection_prefix:
      The name and prefix for the secondary collection you want this skin to be in. Usually this is the
      pack collection, not the skin index.

    $pressed_button_name:
      The button event handle that is called when the button is pressed

    $is_background_visible: (optional)
      Whether or not the background of the button is visible. Default is true
  */
  "skin_doll_button": {
    "type": "panel",
    "size": "$content_size",
    "$is_background_visible|default": true,
    "$skin_button_focus_id|default": "",
    "bindings": [
      {
        "binding_type": "collection",
        "binding_collection_name": "$primary_collection_name",
        "binding_name": "#is_skin_index_visible",
        "binding_name_override": "#visible"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$secondary_collection_name",
        "binding_collection_prefix": "$secondary_collection_prefix"
      }
    ],
    "controls": [
      {
        "size_control": {
          "type": "panel",
          "size": [ "65.21%y", "100% - 2px" ],
          "controls": [
            {
              "background": {
                "type": "image",
                "texture": "textures/ui/slots_bg",
                "visible": "$is_background_visible"
              }
            },
            {
              "locked_icon@persona.lock_icon": {
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$primary_collection_name",
                    "binding_name": "(not #is_skin_owned)",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$secondary_collection_name",
                    "binding_collection_prefix": "$secondary_collection_prefix"
                  }
                ]
              }
            },
            {
              "unequippable_icon@persona.lock_icon": {
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$primary_collection_name",
                    "binding_name": "#is_skin_not_equippable",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$secondary_collection_name",
                    "binding_collection_prefix": "$secondary_collection_prefix"
                  }
                ]
              }
            },
            {
              "realms_plus_icon@common.empty_panel": {
                "controls": [
                  {
                    "realms_banner_small@persona.realms_banner_small": {
                      "layer": 3,
                      "anchor_to": "bottom_left",
                      "anchor_from": "bottom_left",
                      "offset": [ 0, -1 ]
                    }
                  },
                  {
                    "realms_plus_icon@persona.realms_small_icon": {
                      "layer": 4,
                      "anchor_to": "bottom_left",
                      "anchor_from": "bottom_left",
                      "offset": [ 1, -2 ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$primary_collection_name",
                    "binding_name": "#is_skin_realms_plus",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$secondary_collection_name",
                    "binding_collection_prefix": "$secondary_collection_prefix"
                  }
                ]
              }
            },
            {
              "skin_button@common.button": {
                "$focus_id": "$skin_button_focus_id",
                "controls": [
                  { "default@common.empty_panel": {} },
                  {
                    "hover@persona.focus_border_skin_picker": {
                      "layer": 10
                    }
                  },
                  {
                    "pressed@persona.selected_border_skin_picker": {
                      "layer": 4
                    }
                  },
                  {
                    "selected@persona.selected_border_skin_picker": {
                      "layer": 8,
                      "bindings": [
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$primary_collection_name",
                          "binding_name": "#is_skin_selected",
                          "binding_name_override": "#visible"
                        },
                        {
                          "binding_type": "collection_details",
                          "binding_collection_name": "$secondary_collection_name",
                          "binding_collection_prefix": "$secondary_collection_prefix"
                        }
                      ]
                    }
                  },
                  {
                    "equipped@persona.equipped_border_skin_picker": {
                      "layer": 10,
                      "bindings": [
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$primary_collection_name",
                          "binding_name": "#is_skin_equipped",
                          "binding_name_override": "#visible"
                        },
                        {
                          "binding_type": "collection_details",
                          "binding_collection_name": "$secondary_collection_name",
                          "binding_collection_prefix": "$secondary_collection_prefix"
                        }
                      ]
                    }
                  },
                  {
                    "content_panel": {
                      "type": "panel",
                      "size": [ "100%", "100% - 2px" ],
                      "clips_children": true,
                      "controls": [
                        {
                          "content@persona.persona_classic_skin_paper_doll": {
                            "bindings": [
                              {
                                "binding_type": "collection",
                                "binding_collection_name": "$primary_collection_name",
                                "binding_name": "#classic_skin_index"
                              },
                              {
                                "binding_type": "collection_details",
                                "binding_collection_name": "$secondary_collection_name",
                                "binding_collection_prefix": "$secondary_collection_prefix"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$primary_collection_name",
                    "binding_collection_prefix": "$primary_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$secondary_collection_name",
                    "binding_collection_prefix": "$secondary_collection_prefix"
                  }
                ],
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_select",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "pressed"
                  },
                  {
                    "from_button_id": "button.menu_ok",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "focused"
                  },
                  {
                    "to_button_id": "button.skin_hovered",
                    "mapping_type": "pressed"
                  },
                  {
                    "to_button_id": "button.skin_unhovered",
                    "mapping_type": "pressed"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "focus_border_skin_picker": {
    "type": "image",
    "layer": 10,
    "$border_texture|default": "textures/ui/focus_border_selected",
    "texture": "$border_texture"
  },

  "selected_border_skin_picker@persona.focus_border_skin_picker": {
    "$border_texture": "textures/ui/focus_border_white",
    "color": "$dressing_room_skin_picker_equipped_border_color"
  },

  "equipped_border_skin_picker": {
    "type": "image",
    "$enable_border|default": true,
    "size": [ "100% + 2px", "100% + 2px" ],
    "layer": 11,
    "texture": "textures/ui/equipped_item_border"
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// tab controls
  "dressing_room_tab_image": {
    "type": "panel",
    "$dressing_room_tab_image_size|default": [ "75%y", "75%" ],
    "size": "$dressing_room_tab_image_size",
    "controls": [
      {
        "selected_image": {
          "type": "image",
          "texture": "$dressing_room_tab_image",
          "bindings": [
            {
              "binding_name": "$selected_bind",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "unselected_image": {
          "type": "image",
          "texture": "$dressing_room_tab_image",
          "alpha": 0.5,
          "bindings": [
            {
              "binding_name": "(not $selected_bind)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "top_tab@common_tabs.tab_top": {
    "size": [ "fill", "100%" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "$toggle_tts_enabled_binding_type": "global",
    "$radio_toggle_group": true,
    "$toggle_name": "navigation_tab",
    "$toggle_group_default_selected": "$default_tab",
    "$tab_content": "persona.dressing_room_tab_image",
    "$selected_bind": "$image_bind",
    "$toggle_tts_type_priority": 1001,
    "$toggle_tts_toggle_on_text": "",
    "$toggle_tts_toggle_off_text": ""
  },

  "customization_tab@persona.top_tab": {
    "$dressing_room_tab_image_size": [ 20, 19 ],
    "$is_left_most_tab": true,
    "$tab_view_binding_name": "customization_tab_toggle",
    "$image_bind": "#customization_active",
    "$toggle_group_forced_index": 0,
    "$dressing_room_tab_image": "textures/ui/dressing_room_customization"
  },

  "skins_tab@persona.top_tab": {
    "$dressing_room_tab_image_size": [ 20, 20 ],
    "$tab_view_binding_name": "skins_tab_toggle",
    "$image_bind": "#skins_active",
    "$toggle_group_forced_index": 1,
    "$dressing_room_tab_image": "textures/ui/dressing_room_skins"
  },

  "emotes_tab@persona.top_tab": {
    "$dressing_room_tab_image_size": [ 14, 22 ],
    "$tab_view_binding_name": "animations_tab_toggle",
    "$image_bind": "#emotes_active",
    "$toggle_group_forced_index": 2,
    "$dressing_room_tab_image": "textures/ui/dressing_room_animation"
  },

  "capes_tab@persona.top_tab": {
    "$dressing_room_tab_image_size": [ 12, 20 ],
    "$tab_view_binding_name": "capes_tab_toggle",
    "$image_bind": "#capes_active",
    "$toggle_group_forced_index": 3,
    "$dressing_room_tab_image": "textures/ui/dressing_room_capes"
  },

  "persona_tabs_with_cape": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "controls": [
      { "customization_tab@persona.customization_tab": {} },
      { "skins_tab@persona.skins_tab": {} },
      { "emotes_tab@persona.emotes_tab": {} },
      {
        "cape_tab@persona.capes_tab": {
          "$is_right_most_tab": true
        }
      }
    ]
  },

  "persona_tabs_gamepad_helper": {
    "type": "panel",
    "bindings": [
      {
        "binding_name": "#gamepad_helper_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "left_bumper@common.gamepad_helper_left_bumper": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ -5, -8 ]
        }
      },
      {
        "right_bumper@common.gamepad_helper_right_bumper": {
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "offset": [ 5, -8 ]
        }
      }

    ]
  },

  "persona_tabs": {
    "type": "panel",
    "size": [ "100%", 36 ],
    "controls": [
      { "persona_tabs_cape@persona.persona_tabs_with_cape": {} },
      { "persona_tabs_gamepad_helper@persona.persona_tabs_gamepad_helper": {} }
    ],
    "bindings": [
      {
        "binding_name": "#dressing_room_tabs_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "rarity_bar_panel": {
    "type": "image",
    "size": [ "100%", 3 ],
    "layer": 2,
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "texture": "#rarity_bar_texture",
    "bindings": [
      {
        "binding_type": "$persona_piece_binding_type",
        "binding_collection_name": "$persona_piece_collection_name",
        "binding_name": "#rarity_bar_texture",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "$persona_piece_binding_type",
        "binding_collection_name": "$persona_piece_collection_name",
        "binding_name": "#rarity_bar_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// piece offer section
  "persona_offer_state_info@persona.offer_state_info": {
    "$offer_state_info_collection_name": "$persona_piece_collection_name"
  },

  "piece_offer_button_content": {
    "type": "panel",
    "$is_featured|default": false,
    "property_bag": {
      "#is_featured": "$is_featured"
    },
    "controls": [
      {
        "piece_offer_item@persona_common.item_display": {
          "$item_content_control": "persona.persona_offer_state_info",
          "$item_binding_type": "$persona_piece_binding_type",
          "$item_collection_name": "$persona_piece_collection_name",
          "$item_texture_file_system_binding_name": "#thumbnail_texture_file_system",
          "$item_texture_path_binding_name": "#thumbnail_texture_path",
          "$is_loading": false
        }
      }
    ]
  },

  "piece_offer_button@common.button": {
    "$focus_id": "piece_offer_button",
    "$button_content|default": "common.empty_panel",

    "$hide_while_loading|default": true,
    "$is_featured|default": false,
    "property_bag": {
      "#is_featured": "$is_featured"
    },

    "$ignore_piece_selected|default": false,

    "$progress_loading_binding_type": "$persona_piece_binding_type",
    "$progress_loading_collection_name": "$persona_piece_collection_name",
    "$progress_loading_binding_name": "#piece_content_downloading",

    "$controller_left_bumper_mapping|default": "",
    "$controller_right_bumper_mapping|default": "",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$controller_left_bumper_mapping",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$controller_right_bumper_mapping",
        "mapping_type": "focused"
      }
    ],

    "controls": [
      {
        "button_controls": {
          "type": "panel",
          "visible": false,

          "$loading_bindings|default": [],
          "variables": [
            {
              "requires": "$hide_while_loading",
              "$loading_bindings": [
                {
                  "binding_type": "view",
                  "source_control_name": "progress_loading",
                  "source_property_name": "(not #visible)",
                  "target_property_name": "#visible",
                  "resolve_sibling_scope": true
                }
              ]
            }
          ],
          "bindings": "$loading_bindings",

          "controls": [
            { "default@common.empty_panel": {} },
            {
              "pressed@persona.selected_border_skin_picker": {
                "layer": 9
              }
            },
            {
              "content@$button_content": {
                "layer": 2
              }
            },
            {
              "equipped@persona.equipped_border_skin_picker": {
                "ignored": "$ignore_piece_selected",
                "layer": 10,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_equipped",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "selected@persona.selected_border_skin_picker": {
                "ignored": "$ignore_piece_selected",
                "layer": 8,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_selected",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "previewed@persona.selected_border_skin_picker": {
                "ignored": "$ignore_piece_selected",
                "layer": 8,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_being_previewed",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "hover@persona.focus_border_skin_picker": {
          "layer": 9
        }
      },
      {
        "progress_loading@persona.progress_loading": {
          "ignored": "(not $hide_while_loading)"
        }
      }
    ]
  },

  "persona_piece_offer": {
    "type": "panel",
    "$persona_piece_size|default": [ "25% - 2px", "100%x" ],
    "$max_size_centered_y_panel|default": [ "100%y", "100%" ],
    "$max_size_centered_x_panel|default": [ "100%", "100%x" ],
    "size": "$persona_piece_size",
    "controls": [
      {
        "piece_offer_center_on_y_axis": {
          "type": "panel",
          "size": [ "100%", "100%" ],
          "max_size": "$max_size_centered_y_panel",
          "controls": [
            {
              "piece_offer_center_on_x_axis": {
                "type": "panel",
                "size": [ "100%", "100%" ],
                "max_size": "$max_size_centered_x_panel",
                "controls": [
                  {
                    "piece_offer_button@persona.piece_offer_button": {
                      "size": [ "100% - 2px", "100% - 2px" ],
                      "$pressed_button_name": "$pressed_button_function",
                      "$button_content": "persona.piece_offer_button_content",
                      "$button_content_size": [ "100%", "100%" ],
                      "$primary_collection_name": "piece_collection",
                      "bindings": [
                        {
                          "binding_type": "$persona_piece_collection_details",
                          "binding_collection_name": "$persona_piece_collection_name",
                          "binding_collection_prefix": "$persona_piece_prefix"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$persona_piece_collection_name",
                          "binding_name": "#is_piece_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "persona_piece_offer_grid": {
    "type": "grid",
    "size": [ "100%", "100%c" ],

    "$piece_grid_dimension_binding|default": "#piece_offer_count",
    "grid_dimension_binding": "$piece_grid_dimension_binding",
    "grid_rescaling_type": "horizontal",
    "grid_item_template": "persona.persona_piece_offer",
    "$pressed_button_function|default": "button.apply_persona_piece",
    "$persona_piece_prefix|default": "piece",
    "$persona_piece_binding_type|default": "collection",
    "$filesystem_binding_type": "collection",
    "$persona_piece_collection_details|default": "collection_details",
    "$persona_piece_collection_name|default": "piece_collection",
    "collection_name": "$persona_piece_collection_name",
    "$piece_grid_dimension_binding_type|default": "global",
    "$piece_grid_visible_binding_type|default": "none",
    "$piece_grid_visible_binding_name|default": "",
    "bindings": [
      {
        "binding_type": "$piece_grid_dimension_binding_type",
        "binding_name": "$piece_grid_dimension_binding",
        "binding_name_override": "#maximum_grid_items"
      },
      {
        "binding_type": "$piece_grid_visible_binding_type",
        "binding_name": "$piece_grid_visible_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "featured_piece_offer_list_panel": {
    "type": "panel",
    "size": [ "100%", "100%cm" ],
    "$piece_grid_visible_binding_type": "global",
    "controls": [
      {
        "category_featured_piece_list": {
          "$persona_piece_prefix": "category_featured",
          "$persona_piece_collection_name": "category_featured_collection",
          "$piece_grid_dimension_binding": "#category_featured_piece_offer_list_count",
          "$piece_grid_visible_binding_name": "#is_category_featured_piece_offer_list_visible",
          "$pressed_button_function": "button.apply_category_featured_piece_offer",
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "featured_piece_offer_grid@persona.persona_piece_offer_grid": {} }
          ]
        }
      },
      {
        "main_featured_piece_list": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "$persona_piece_prefix": "main_featured",
          "$persona_piece_collection_name": "main_featured_collection",
          "$piece_grid_dimension_binding": "#main_featured_piece_offer_list_count",
          "$piece_grid_visible_binding_name": "#is_main_featured_piece_offer_list_visible",
          "$pressed_button_function": "button.apply_main_featured_piece_offer",
          "controls": [
            { "featured_piece_offer_grid@persona.persona_piece_offer_grid": {} }
          ]
        }
      },
      {
        "profile_featured_piece_list": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "$persona_piece_prefix": "profile_featured",
          "$persona_piece_collection_name": "profile_featured_collection",
          "$piece_grid_dimension_binding": "#profile_featured_piece_offer_list_count",
          "$piece_grid_visible_binding_name": "#is_profile_featured_piece_offer_list_visible",
          "$pressed_button_function": "button.apply_profile_featured_piece_offer",
          "controls": [
            { "featured_piece_offer_grid@persona.persona_piece_offer_grid": {} }
          ]
        }
      },
      {
        "custom_section_piece_list": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "$persona_piece_prefix": "custom_section",
          "$persona_piece_collection_name": "custom_section_collection",
          "$piece_grid_dimension_binding": "#custom_section_piece_offer_list_count",
          "$piece_grid_visible_binding_name": "#is_custom_section_piece_offer_list_visible",
          "$pressed_button_function": "button.apply_custom_section_piece_offer",
          "controls": [
            { "custom_piece_offer_grid@persona.persona_piece_offer_grid": {} }
          ]
        }
      }
    ]
  },

  "persona_piece_offer_scroll_content": {
    "type": "panel",
    "size": [ "100%", "100%cm + 4px" ],
    "$piece_grid_visible_binding_type": "global",
    "$piece_grid_visible_binding_name": "#is_piece_offer_list_visible",
    "controls": [
      {
        "piece_offer_list_stack": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "sizing_section",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ],
          "controls": [
            { "piece_offer_grid@persona.persona_piece_offer_grid": {} }
          ]
        }
      },
      { "featured_piece_offer_list_panel@persona.featured_piece_offer_list_panel": {} },
      {
        "sizing_section@persona.sizing_panel": {
          "size": [ "100% - 4px", "100%c" ],
          "bindings": [
            {
              "binding_name": "#sizing_options_on",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "limb_side_switcher": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 25 ],
    "controls": [
      {
        "left_button_panel": {
          "type": "panel",
          "size": [ 20, "100%x" ],
          "controls": [
            {
              "left_button@persona.left_limb_button": {
                "bindings": [
                  {
                    "binding_name": "(not #left_limb_enabled)",
                    "binding_name_override": "#enabled"
                  }
                ]
              }
            },
            {
              "left_bumper@common.gamepad_helper_left_bumper": {
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, -20 ],
                "$hide_description": true,
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "title": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "limb_title": {
                "type": "label",
                "text": "#limb_title",
                "color": "$dressing_room_color_title",
                "font_type": "MinecraftTen",
                "offset": [ 0, -3 ],
                "anchor_to": "center",
                "anchor_from": "center",
                "layer": 2,
                "bindings": [
                  {
                    "binding_name": "#limb_title"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "right_button_panel": {
          "type": "panel",
          "size": [ 20, "100%x" ],
          "controls": [
            {
              "right_button@persona.right_limb_button": {
                "bindings": [
                  {
                    "binding_name": "#left_limb_enabled",
                    "binding_name_override": "#enabled"
                  }
                ]
              }
            },
            {
              "right_bumper@common.gamepad_helper_right_bumper": {
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, -20 ],
                "$hide_description": true,
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "piece_offer_scroll_section@persona.scroll_section": {
    "size": [ "100%", "fill" ],
    "$scrolling_content": "persona.persona_piece_offer_scroll_content"
  },

  "piece_offer_section_panel": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "pieces": {
          "type": "stack_panel",
          "size": [ "100%", "100%" ],
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "color_picker_content_panel",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ],
          "controls": [
            {
              "top_padding": {
                "type": "panel",
                "size": [ "100%", 2 ],
                "bindings": [
                  {
                    "binding_name": "#is_none_option_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "side_selector@persona.limb_side_switcher": {
                "bindings": [
                  {
                    "binding_name": "#is_leg_or_arms",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "none_piece_option_panel": {
                "type": "panel",
                "size": [ "100%", 19 ],
                "bindings": [
                  {
                    "binding_name": "#is_none_option_visible",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "none_piece_option_button@common_buttons.light_text_button": {
                      "size": [ "100% - 4px", "100%" ],
                      "$pressed_button_name": "button.none_piece_option",
                      "$button_text": "#none_option_text",
                      "$button_text_binding_type": "global",
                      "$button_text_size": [ "default", 10 ],
                      "$button_font_scale_factor": 0.8,
                      "$new_ui_label_offset": [ 0, -1 ],
                      "$font_type": "MinecraftTen",
                      "bindings": [
                        {
                          "binding_name": "#is_none_option_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#is_none_option_enabled",
                          "binding_name_override": "#focus_enabled"
                        }
                      ],
                      "button_mappings": [
                        {
                          "from_button_id": "button.menu_select",
                          "to_button_id": "$pressed_button_name",
                          "mapping_type": "pressed"
                        },
                        {
                          "from_button_id": "button.menu_ok",
                          "to_button_id": "$pressed_button_name",
                          "mapping_type": "focused"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "piece_offer_scroll_section@persona.piece_offer_scroll_section": {}
            }
          ]
        }
      },
      {
        "color_picker_content_panel@persona.color_picker_content_panel": {
          "bindings": [
            {
              "binding_name": "#show_color_picker",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "persona_piece_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.piece_offer_section_panel"
  },

  "left_cycle_button@common_store.cycle_pack_left_button": {
    "$cycle_pack_button_enabled": "#left_cycle_button_enabled",
    "$gamepad_helper_icon_size": [ 15, 15 ]
  },

  "right_cycle_button@common_store.cycle_pack_right_button": {
    "$cycle_pack_button_enabled": "#right_cycle_button_enabled",
    "$gamepad_helper_icon_size": [ 15, 15 ]
  },

  "cycle_featured_content_section": {
    "type": "panel",
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "cycle_featured_content": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 4px", "100% - 2px" ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",

          "$cycle_button_panel_size": [ "fill", "100%" ],
          "$cycle_button_size": [ "100%", "100%" ],

          "$persona_piece_collection_name": "featured_collection",
          "$piece_grid_dimension_binding_type": "none",
          "$piece_grid_dimension_binding": "",
          "$is_featured": true,

          "$ignore_cycle_buttons|default": false,

          "bindings": [
            {
              "binding_name": "#is_cycle_featured_section_ready",
              "binding_name_override": "#visible"
            }
          ],

          "controls": [
            {
              "left_cycle_button@persona.left_cycle_button": {
                "size": [ 15, "100%" ],
                "$pressed_button_name": "button.cycle_featured_pieces_left",
                "$cycle_pack_button_enabled": "#is_left_cycle_featured_pieces_button_enabled"
              }
            },
            {
              "featured_offer_grid_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "featured_offer_grid@persona.persona_piece_offer_grid": {
                      "size": [ "100%", "33%x" ],
                      "max_size": [ "100%", "100%" ],
                      "$persona_piece_size": [ "33%", "100%" ],
                      "$pressed_button_function": "button.apply_persona_piece",
                      "$controller_left_bumper_mapping": "button.cycle_featured_pieces_left",
                      "$controller_right_bumper_mapping": "button.cycle_featured_pieces_right",
                      "clip_state_change_event": "",
                      "grid_dimensions": [ 3, 1 ],
                      "maximum_grid_items": 3
                    }
                  }
                ]
              }
            },
            {
              "right_cycle_button@persona.right_cycle_button": {
                "size": [ 15, "100%" ],
                "$pressed_button_name": "button.cycle_featured_pieces_right",
                "$cycle_pack_button_enabled": "#is_right_cycle_featured_pieces_button_enabled"
              }
            }
          ]
        }
      }
    ]
  },

  "featured_piece_offer_section_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "center_featured_header_panel": {
          "type": "panel",
          "size": [ "100%", 12 ],
          "controls": [
            {
              "featured_header@common.minecraftTenLabel": {
                "size": [ "100% - 4px", 10 ],
                "$featured_header": "#sub_category_featured_title",
                "text": "$featured_header",
                "color": "$dark_button_default_text_color",
                "bindings": [
                  {
                    "binding_condition": "visible",
                    "binding_name": "$featured_header"
                  }
                ]
              }
            }
          ]
        }
      },
      { "cycle_featured_content_section@persona.cycle_featured_content_section": {} },
      {
        "bottom_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ]
  },

  "featured_piece_section": {
    "type": "panel",
    "size": [ "100%", "35%" ],
    "bindings": [
      {
        "binding_name": "#is_subcategory_featured_section_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "featured_piece_section_dailog_bg@persona.dialog_background_object": {
          "size": [ "100%", "100% - 2px" ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "$persona_dialog_content": "persona.featured_piece_offer_section_panel"
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// subcategory objects
  "persona_subcategory_button@persona.subcategory_button": {
    "size": [ "100%", 25 ],

    // button vars
    "$pressed_button_name": "button.subcategory_selected",
    "$hover_button_name": "button.subcategory_button_hovered",
    "$button_content": "persona.sub_category_label_image_button_content",
    "$focus_id": "$subcategory_button_focus_id",

    // override textures
    "$default_button_texture": "",
    "$hover_button_texture": "textures/ui/white_background",
    "$pressed_button_texture": "textures/ui/banners_no_border_dark_hover",
    "$locked_button_texture": "textures/ui/banners_no_border",

    // override text colors
    "$default_text_color": "$dark_toggle_checked_default_text_color",
    "$hover_text_color": "$dark_toggle_checked_hover_text_color",
    "$border_visible": false,

    // override image properties
    "$hover_button_image_fill": true,
    "$hover_content_alpha": 0.5,
    "$hover_button_image_color": "$dressing_room_subcategory_button_hover_color",

    // content vars
    "$content_label_image_binding_type": "collection",
    "$content_label_image_collection_name": "$subcategory_collection_name",
    "$content_label_binding_name": "#subcategory_title",
    "$content_image_binding_name": "#subcategory_image",
    "$content_image_is_dynamic": true,


    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$subcategory_collection_name",
        "binding_collection_prefix": "$subcategory_collection_prefix"
      }
    ]
  },

  "category_button@common_buttons.light_content_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "to_button_id": "$hover_button_name",
        "mapping_type": "pressed"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// category select objects
  "category_select_button_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "category_select_button@persona.category_button": {
          "size": [ "100%", 25 ],

          // button vars
          "$pressed_button_name|default": "button.category_selected",
          "$hover_button_name": "button.category_button_hovered",
          "$button_content": "persona.label_image_button_content",

          // button content vars
          "$content_label_binding_name|default": "#category_title",
          "$content_label_image_binding_type": "collection",
          "$content_label_image_collection_name": "$category_collection_name",
          "$content_image_size": [ 11, 11 ],

          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$category_collection_name",
              "binding_collection_prefix": "$category_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "category_content": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "controls": [
      {
        "select_category_button@persona.category_select_button_panel": {
          "$pressed_button_name": "button.category_selected",
          "$content_image_binding_name": "textures/ui/chevron_grey_right",
          "$focus_id": "select_category_button",
          "$category_button_visible_binding": "#is_select_category_button_visible",
          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$category_collection_name",
              "binding_collection_prefix": "$category_collection_prefix"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "$category_collection_name",
              "binding_name": "#is_select_category_button_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "unselect_category_button@persona.category_select_button_panel": {
          "$pressed_button_name": "button.category_unselected",
          "$focus_id": "unselect_category_button",
          "$content_image_binding_name": "textures/ui/chevron_white_down",
          "$default_text_color": "$light_button_hover_text_color",
          "$default_button_texture": "textures/ui/button_borderless_lightpressed",
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "select_category_button",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "subcategory_grid_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "unselect_category_button",
              "source_property_name": "#visible",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ],
          "controls": [
            {
              "subcategory_grid": {
                "type": "grid",
                "size": [ "100% - 4px", "100%c" ],
                "anchor_to": "top_middle",
                "anchor_from": "top_middle",

                "$subcategory_collection_prefix|default": "subcategory",
                "$subcategory_collection_name|default": "subcategory_collection",
                "$subcategory_button_focus_id": "subcategory_button",

                "$subcategory_dimension_binding": "#subcategory_dimension_binding",
                "grid_dimension_binding": "$subcategory_dimension_binding",
                "grid_item_template": "persona.persona_subcategory_button",
                "collection_name": "$subcategory_collection_name",

                "bindings": [
                  {
                    "binding_name": "$subcategory_dimension_binding"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "persona_category_grid_panel": {
    "type": "panel",
    "size": [ "100% - 4px", "100%c" ],

    "controls": [
      {
        "persona_category_factory": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],

          "$store_factory_clipping_event": "category factory_section_shown",

          "$category_collection_prefix": "category",
          "$category_collection_name": "category_collection",

          "factory": {
            "name": "store_section_factory",
            "control_ids": {
              "category_content": "@persona.category_content"
            },
            "factory_variables": [
              "$category_collection_prefix",
              "$category_collection_name"
            ]
          },

          "collection_name": "$category_collection_name",

          "bindings": [
            {
              "binding_name": "#category_section_content",
              "binding_name_override": "#collection_length"
            }
          ]
        }
      }
    ]
  },

  "category_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.persona_category_grid_panel"
  },

  "persona_category_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.category_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_category_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// custom skin popup dialog

  "popup_dialog_skin_model": {
    "type": "panel",
    "offset": [ 0, -20 ],
    "controls": [
      {
        "paper_doll": {
          "type": "custom",
          "layer": 100,
          "renderer": "paper_doll_renderer",
          "camera_tilt_degrees": -10,
          "starting_rotation": 30,
          "use_selected_skin": false,
          "bindings": [
            { "binding_name": "$button_model_type" }
          ]
        }
      }
    ]
  },

  "popup_dialog_choose_skin_type_panel@common.empty_panel": {
    "size": [ "50%", "80%" ],
    "layer": 1,
    "controls": [
      {
        "choose_skin_type_button@common_buttons.light_content_button": {
          "size": [ "90%", "90%" ],
          "$button_content": "persona.popup_dialog_skin_model"
        }
      }
    ]
  },

  "popup_dialog_bg@common_dialogs.dialog_background_hollow_3": {
    "size": [ "100%", "100%" ],
    "$persona_popup_title_text|default": "dr.classic_skins.select_skin.title",
    "controls": [
      {
        "background_image": {
          "type": "image",
          "size": "$section_content_size",
          "offset": "$section_content_offset",
          "texture": "textures/ui/White",
          "color": "$dressing_room_dark_bg_color",
          "alpha": "$dressing_room_background_alpha"
        }
      },
      {
        "title": {
          "type": "label",
          "size": [ "100%", 10 ],
          "layer": 2,
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "font_type": "MinecraftTen",
          "text_alignment": "center",
          "offset": [ 0, 5.5 ],
          "text": "$persona_popup_title_text",
          "color": "$light_button_default_text_color"
        }
      },
      { "popup_content@$dialog_content": {} }
    ]
  },

  "popup_dialog_invalid_custom_skin_content@common.empty_panel": {
    "size": "$section_content_size",
    "offset": "$section_content_offset",
    "controls": [
      {
        "popup_dialog_message@popup_dialog.popup_dialog_message": {
          "color": "$dressing_room_right_side_default_text_color"
        }
      },
      { "popup_dialog_middle_button@popup_dialog.popup_dialog_middle_button": {} }
    ]
  },

  "popup_dialog_choose_skin_type_content@common.empty_panel": {
    "size": "$section_content_size",
    "offset": "$section_content_offset",
    "controls": [
      {
        "popup_dialog_message@popup_dialog.popup_dialog_message": {
          "color": "$dressing_room_right_side_default_text_color"
        }
      },
      {
        "left@persona.popup_dialog_choose_skin_type_panel": {
          "$pressed_button_name": "button.choose_skinny",
          "$button_model_type": "#skinny_skin_index",
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left"
        }
      },
      {
        "right@persona.popup_dialog_choose_skin_type_panel": {
          "$pressed_button_name": "button.choose_fat",
          "$button_model_type": "#fat_skin_index",
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_left"
        }
      }
    ]
  },

  "popup_dialog__invalid_custom_skin@popup_dialog.popup_dialog": {
    "$middle_button_press": "button.close_dialog",
    "$message_text": "dr.classic_skins.invalidCustomSkin",
    "$middle_button_text": "gui.ok",
    "size": [ "40%", "75%" ],
    "$section_content_size": [ "100% - 16px", "91.5% - 16px" ],
    "$section_content_offset": [ 0, "4.5%" ],
    "controls": [
      {
        "popup_dialog_bg@persona.popup_dialog_bg": {
          "$dialog_content": "persona.popup_dialog_invalid_custom_skin_content"
        }
      }
    ]
  },

  "popup_dialog__upsell_without_store@popup_dialog__invalid_custom_skin": {
    "$message_text": "dr.classic_skins.upsellWithoutStore"
  },

  "popup_anim_wait": {
    "anim_type": "wait",
    "duration": "$display_time",
    "next": "@persona.popup_anim_end"
  },

  "popup_anim_start": {
    "anim_type": "alpha",
    "easing": "linear",
    "from": 0.0,
    "to": 1.0,
    "duration": "$transition_in_time",
    "next": "@persona.popup_anim_wait"
  },

  "popup_anim_end": {
    "anim_type": "alpha",
    "easing": "linear",
    "from": 1.0,
    "to": 0.0,
    "duration": "$transition_out_time",
    "destroy_at_end": "toast_message",
    "end_event": "toast_end"
  },

  "popup_toast@toast_screen.popup": {
    "layer": 100,
    "$display_time": 0.75,
    "$transition_in_time": 0.15,
    "$transition_out_time": 0.15,
    "$popup_size": [ 184, 20 ],
    "$toast_text_offset": [ 0, 4 ],
    "$toast_text_alignment": "center",
    "$toast_anchor_from": "center",
    "$toast_anchor_to": "center",
    "$toast_font_type": "smooth",
    "$offset_anims": [],
    "$alpha_anims": [
      "@persona.popup_anim_start"
    ]
  },

  "popup_dialog__choose_skin_type@popup_dialog.popup_dialog": {
    "$message_text": "dr.classic_skins.select_skin",
    "$section_content_size": [ "100% - 16px", "91.5% - 16px" ],
    "$section_content_offset": [ 0, "4.5%" ],
    "size": [ "40%", "75%" ],
    "controls": [
      {
        "popup_dialog_bg@persona.popup_dialog_bg": {
          "$dialog_content": "persona.popup_dialog_choose_skin_type_content"
        }
      }
    ]
  },

  "custom_skin_popup_dialog_panel": {
    "type": "panel",
    "layer": 99, // must be above the persona renderer which is layer 90
    "controls": [
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "invalid_custom_skin": "@persona.popup_dialog__invalid_custom_skin",
            "choose_skin_type": "@persona.popup_dialog__choose_skin_type",
            "upsell_without_store": "@persona.popup_dialog__upsell_without_store"
          }
        }
      },
      {
        "full_screen_darkening": {
          "type": "image",
          "texture": "textures/ui/White",
          "color": "$dressing_room_dark_bg_color",
          "alpha": "$dressing_room_full_screen_popup_background_alpha",
          "bindings": [
            {
              "binding_name": "#is_custom_skin_popup_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// skin picking screen

  "persona_skin_picker_skin_button@persona.skin_doll_button": {
    "$content_size": [ "25%", "153.33%x" ],
    "$paper_doll_offset": [ 0, -8 ],
    "$primary_collection_name": "$persona_skin_picker_collection_name",
    "$primary_collection_prefix": "$persona_skin_picker_collection_prefix",
    "$persona_dummy_skin_pack_collection_name": "foobar_collection",
    "$persona_dummy_skin_pack_collection_prefix": "foobar",
    "$secondary_collection_name": "$persona_dummy_skin_pack_collection_name",
    "$secondary_collection_prefix": "$persona_dummy_skin_pack_collection_prefix",
    "$pressed_button_name": "button.skin_selected_skins_page",
    "$skin_button_focus_id": "skin_button_expanded"
  },

  "persona_classic_skin_grid_panel": {
    "type": "panel",
    "size": [ "100% - 4px", "100%c + 2px" ],
    "controls": [
      {
        "persona_skin_pack_category_grid": {
          "type": "grid",
          "size": [ "100%", "100%c" ],

          "$persona_skin_picker_binding_type|default": "collection",
          "$persona_skin_picker_collection_prefix|default": "persona_skin_picker",
          "$persona_skin_picker_collection_name|default": "persona_skin_picker_collection",

          "$skin_picker_dimension_binding|default": "#pack_dimensions",
          "grid_dimension_binding": "$skin_picker_dimension_binding",
          "grid_item_template": "persona.persona_skin_picker_skin_button",
          "collection_name": "$persona_skin_picker_collection_name",

          "bindings": [
            {
              "binding_name": "$skin_picker_dimension_binding"
            }
          ]
        }
      }
    ]
  },

  "skin_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.persona_classic_skin_grid_panel"
  },

  "persona_skin_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.skin_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_skin_picker_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// skin pack selection objects

  "persona_skin_button_for_pack_view@persona.skin_doll_button": {
    "$content_size": [ "33%", "100%" ],
    "max_size": [ "33%", "100%" ],
    "$primary_collection_name": "$persona_skin_collection_name",
    "$primary_collection_prefix": "$persona_skin_collection_prefix",
    "$secondary_collection_name": "$persona_skin_pack_collection_name",
    "$secondary_collection_prefix": "$persona_skin_pack_collection_prefix",
    "$pressed_button_name": "button.skin_selected",
    "$is_background_visible": false,
    "$skin_button_focus_id": "skin_button"
  },

  "skin_pack_expand_pack": {
    "type": "label",
    "offset": [ 0, 2.5 ],
    "size": [ "100%", 16 ],
    "text": "#pack_additional_skin_count_text",
    "color": "$dressing_room_right_side_default_text_color",
    "text_alignment": "center",
    "bindings": [
      {
        "binding_type": "$persona_skin_pack_binding_type",
        "binding_collection_name": "$persona_skin_pack_collection_name",
        "binding_name": "#pack_additional_skin_count_text"
      }
    ]
  },

  "persona_skin_pack_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "top_padding": {
          "type": "panel",
          "size": [ "100%", 6 ]
        }
      },
      {
        "pack_label": {
          "type": "label",
          "size": [ "100%", 10 ],
          "text": "#pack_title",
          "color": "$dressing_room_right_side_default_text_color",
          "bindings": [
            {
              "binding_type": "$persona_skin_pack_binding_type",
              "binding_collection_name": "$persona_skin_pack_collection_name",
              "binding_name": "#pack_title"
            }
          ]
        }
      },
      {
        "mid_padding": {
          "type": "panel",
          "size": [ "100%", 1 ]
        }
      },
      {
        "pack_body@common.empty_panel": {
          "size": [ "100%", "100%cm" ],
          "controls": [
            {
              "progress_loading_button@common.button": {
                "size": [ "100%", 26 ],
                "$pressed_button_name": "button.fake_button",
                "$button_content": "",
                "controls": [
                  {
                    "content@persona.loading_progress_bars": {}
                  },
                  {
                    "default@common.empty_panel": {}
                  },
                  {
                    "hover@persona.focus_border_skin_picker": {}
                  },
                  {
                    "pressed@persona.selected_border_skin_picker": {}
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$persona_skin_pack_binding_type",
                    "binding_name": "#is_classic_skin_pack_loading",
                    "binding_collection_name": "$persona_skin_pack_collection_name",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "skin_pack_panel": {
                "type": "image",
                "texture": "textures/ui/dressing_room_banner",
                "color": "$dressing_room_skin_picker_dark_bg_color",
                "alpha": "$dressing_room_panel_alpha",
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "size": [ "100%", "100%cm" ],
                "bindings": [
                  {
                    "binding_type": "$persona_skin_pack_binding_type",
                    "binding_name": "(not #is_classic_skin_pack_loading)",
                    "binding_collection_name": "$persona_skin_pack_collection_name",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "skins_grid": {
                      "type": "grid",
                      "size": [ "75%", "50.5989%x" ],
                      "anchor_to": "left_middle",
                      "anchor_from": "left_middle",

                      "$persona_skin_binding_type|default": "collection",
                      "$persona_skin_collection_prefix|default": "persona_skin",
                      "$persona_skin_collection_name|default": "persona_skin_collection",

                      "$pack_dimension_binding": "#pack_dimensions",
                      "grid_dimension_binding": "$pack_dimension_binding",
                      "grid_item_template": "persona.persona_skin_button_for_pack_view",
                      "collection_name": "$persona_skin_collection_name",

                      "bindings": [
                        {
                          "binding_name": "$pack_dimension_binding"
                        }
                      ]
                    }
                  },
                  {
                    "expand_view_button@common_buttons.light_content_button": {
                      "size": [ "25%", 10 ],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "inherit_max_sibling_height": true,
                      "$pressed_alpha": "$dressing_room_panel_alpha",
                      "$default_button_alpha": "$dressing_room_panel_alpha",
                      "$pressed_button_name": "button.expand_skin_pack",
                      "$button_content": "persona.skin_pack_expand_pack",
                      "bindings": [
                        {
                          "binding_type": "collection_details",
                          "binding_collection_name": "$persona_skin_pack_collection_name",
                          "binding_collection_prefix": "$persona_skin_pack_collection_prefix"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "persona_skin_pack_grid": {
    "type": "grid",
    "size": [ "100% - 4px", "100%c" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",

    "$persona_skin_pack_binding_type|default": "collection",
    "$persona_skin_pack_collection_prefix|default": "persona_skin_pack",
    "$persona_skin_pack_collection_name|default": "persona_skin_pack_collection",

    "$skin_pack_dimension_binding": "#skin_pack_dimensions",
    "grid_dimension_binding": "$skin_pack_dimension_binding",
    "grid_item_template": "persona.persona_skin_pack_panel",
    "collection_name": "$persona_skin_pack_collection_name",

    "bindings": [
      {
        "binding_name": "$skin_pack_dimension_binding"
      }
    ]
  },

  "default_skin_button@persona.skin_doll_button": {
    "$content_size": [ "25%", "153.33%x" ],
    "max_size": [ "25%", "100%" ],
    "$paper_doll_offset": [ 0, -9 ],
    "$primary_collection_name": "$persona_default_skin_collection_name",
    "$primary_collection_prefix": "$persona_default_skin_collection_prefix",
    "$persona_dummy_skin_pack_collection_name": "foobar_collection",
    "$persona_dummy_skin_pack_collection_prefix": "foobar",
    "$secondary_collection_name": "$persona_dummy_skin_pack_collection_name",
    "$secondary_collection_prefix": "$persona_dummy_skin_pack_collection_prefix",
    "$pressed_button_name": "button.default_skin_selected"
  },

  "persona_owned_skin_pack_grid_panel": {
    "type": "stack_panel",
    "offset": [ 2, 0 ],
    "orientation": "vertical",
    "controls": [
      {
        "default_skin@common.empty_panel": {
          "size": [ "100% - 4px", 65 ],
          "bindings": [
            {
              "binding_name": "#is_default_skins_visible",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "pack_label": {
                "type": "label",
                "offset": [ 2, 5 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "size": [ "100%", 16 ],
                "text": "dr.classic_skins.custom_skin_section_title",
                "color": "$dressing_room_right_side_default_text_color"
              }
            },
            {
              "default_skins_grid": {
                "type": "grid",
                "size": [ "100%", 52 ],
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",

                "$persona_default_skin_binding_type|default": "collection",
                "$persona_default_skin_collection_prefix|default": "persona_default_skin",
                "$persona_default_skin_collection_name|default": "persona_default_skin_collection",

                "$default_skin_dimension_binding": "#default_skin_dimensions",
                "grid_dimension_binding": "$default_skin_dimension_binding",
                "grid_item_template": "persona.default_skin_button",
                "collection_name": "$persona_default_skin_collection_name",

                "bindings": [
                  {
                    "binding_name": "$default_skin_dimension_binding"
                  }
                ]
              }
            }
          ]
        }
      },
      { "owned_packs_grid@persona.persona_skin_pack_grid": {} }
    ]
  },

  "persona_purchasable_skin_pack_grid_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "controls": [
      { "purchasable_packs_grid@persona.persona_skin_pack_grid": {} }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// classic skins categories panel

  "classic_skin_sections": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100% - 4px", "100%c" ],
    "$category_collection_prefix": "persona_skin_pack_category",
    "$category_collection_name": "persona_skin_pack_category_collection",
    "collection_name": "$category_collection_name",
    "$content_label_binding_name": "#persona_skin_pack_category_name",
    "controls": [
      {
        "owned_selected@persona.category_select_button_panel": {
          "$focus_id": "select_category_button",
          "$pressed_button_name": "button.owned_category_selected",
          "$content_image_binding_name": "textures/ui/chevron_grey_right",
          "collection_index": 0,
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "owned_un_selected",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "owned_un_selected@persona.category_select_button_panel": {
          "$focus_id": "unselect_category_button",
          "$pressed_button_name": "button.owned_category_unselected",
          "$content_image_binding_name": "textures/ui/chevron_white_down",
          "$default_text_color": "$light_button_hover_text_color",
          "$default_button_texture": "textures/ui/button_borderless_lightpressed",
          "collection_index": 0,
          "bindings": [
            {
              "binding_name": "#owned_packs_selected",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "owned_skin_packs@persona.persona_owned_skin_pack_grid_panel": {
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "owned_un_selected",
              "source_property_name": "#visible",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "purchasable_selected@persona.category_select_button_panel": {
          "$focus_id": "select_category_button",
          "$pressed_button_name": "button.purchasable_category_selected",
          "$content_image_binding_name": "textures/ui/chevron_grey_right",
          "collection_index": 1,
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "purchasable_un_selected",
              "source_property_name": "(not #visible)",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "purchasable_un_selected@persona.category_select_button_panel": {
          "$focus_id": "unselect_category_button",
          "$pressed_button_name": "button.purchasable_category_unselected",
          "$content_image_binding_name": "textures/ui/chevron_white_down",
          "$default_text_color": "$light_button_hover_text_color",
          "$default_button_texture": "textures/ui/button_borderless_lightpressed",
          "collection_index": 1,
          "bindings": [
            {
              "binding_name": "#purchasable_packs_selected",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "purchasable_skin_packs@persona.persona_purchasable_skin_pack_grid_panel": {
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "purchasable_un_selected",
              "source_property_name": "#visible",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      },
      {
        "realms_plus_enabler@common.empty_panel": {
          "size": [ "100%", "100%c" ],
          "collection_index": 2,
          "bindings": [
            {
              "binding_name": "#is_realms_plus_enabled",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "realms_plus_selected@persona.category_select_button_panel": {
                "$focus_id": "select_category_button",
                "$focus_override_down": "FOCUS_OVERRIDE_STOP",
                "$pressed_button_name": "button.realms_plus_category_selected",
                "$content_image_binding_name": "textures/ui/chevron_grey_right",
                "bindings": [
                  {
                    "binding_type": "view",
                    "source_control_name": "realms_plus_un_selected",
                    "source_property_name": "(not #visible)",
                    "target_property_name": "#visible",
                    "resolve_sibling_scope": true
                  }
                ]
              }
            },
            {
              "realms_plus_un_selected@persona.category_select_button_panel": {
                "$focus_id": "unselect_category_button",
                "$pressed_button_name": "button.realms_plus_category_unselected",
                "$content_image_binding_name": "textures/ui/chevron_white_down",
                "$default_text_color": "$light_button_hover_text_color",
                "$default_button_texture": "textures/ui/button_borderless_lightpressed",
                "bindings": [
                  {
                    "binding_name": "#realms_plus_packs_selected",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "realms_plus_skin_packs@persona.persona_purchasable_skin_pack_grid_panel": {
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "realms_plus_un_selected",
              "source_property_name": "#visible",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ]
        }
      }
    ]
  },

  "classic_skin_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.classic_skin_sections"
  },

  "classic_skin_categories@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.classic_skin_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_classic_skin_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// cape objects

  "cape_section_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "top_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "none_piece_option_panel": {
          "type": "panel",
          "size": [ "100%", 19 ],
          "controls": [
            {
              "none_piece_option_button@common_buttons.light_text_button": {
                "size": [ "100% - 4px", "100%" ],
                "$pressed_button_name": "button.none_piece_option",
                "$button_text": "#none_option_text",
                "$button_text_binding_type": "global",
                "$button_text_size": [ "default", 10 ],
                "$button_font_scale_factor": 0.8,
                "$new_ui_label_offset": [ 0, -1 ],
                "$font_type": "MinecraftTen",
                "bindings": [
                  {
                    "binding_name": "#is_none_option_enabled",
                    "binding_name_override": "#enabled"
                  },
                  {
                    "binding_name": "#is_none_option_enabled",
                    "binding_name_override": "#focus_enabled"
                  }
                ],
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_select",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "pressed"
                  },
                  {
                    "from_button_id": "button.menu_ok",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "focused"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "lower_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "grid@persona.cape_grid_panel": {}
      }
    ]
  },

  "cape_grid_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "grid_stack": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "bindings": [
            {
              "binding_name": "(not #sizing_options_on)",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "cape_piece_offer_grid": {
                "type": "grid",
                "size": [ "100% - 4px", "100%c" ],

                "grid_dimension_binding": "#cape_count",
                "grid_rescaling_type": "horizontal",
                "grid_item_template": "persona.persona_piece_offer",
                "$pressed_button_function": "button.apply_cape",
                "$persona_piece_prefix|default": "cape",
                "$persona_piece_binding_type|default": "collection",
                "$persona_piece_collection_details|default": "collection_details",
                "$persona_piece_collection_name|default": "cape_collection",
                "collection_name": "$persona_piece_collection_name",
                "bindings": [
                  {
                    "binding_name": "#cape_count",
                    "binding_name_override": "#maximum_grid_items"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "cape_button_content": {
    "type": "panel",
    "size": [ "100% - 6px", "100%" ],
    "controls": [
      {
        "stack_content": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "100%" ],

          "controls": [
            {
              "content_label_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "content_label": {
                      "type": "label",
                      "size": [ "100%", 12 ],
                      "layer": 10,
                      "text": "dr.header.capes",
                      "color": "$text_color"
                    }
                  }
                ]
              }
            },
            {
              "content_image_panel": {
                "type": "panel",
                "size": [ "15%", "100%x" ]
              }
            }
          ]
        }
      },
      {
        "bottom_bar": {
          "type": "image",
          "texture": "textures/ui/White",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "offset": [ 0, "7%" ],
          "size": [ "100%", "5%" ],
          "color": "$dressing_room_sub_category_seperator_color",
          "alpha": 0.2
        }
      }
    ]
  },

  "cape_button@common_buttons.dark_content_button": {
    "size": [ "100% - 8px", 25 ],
    // button vars
    "$pressed_button_name": "button.show_capes",
    "$button_content": "persona.cape_button_content",

    // override textures
    "$default_button_texture": "",
    "$hover_button_texture": "textures/ui/banners_no_border",
    "$pressed_button_texture": "textures/ui/banners_no_border_dark_hover",
    "$locked_button_texture": "textures/ui/banners_no_border",

    // override text colors
    "$default_text_color": "$dark_toggle_checked_default_text_color",
    "$hover_text_color": "$dark_toggle_checked_hover_text_color",
    "$border_visible": false,

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "to_button_id": "button.subcategory_button_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "cape_piece_section_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.cape_section_panel"
  },

  "cape_piece_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.cape_piece_section_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_cape_selection_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "cape_scrolling_content": {
    "type": "panel",
    "controls": [
      {
        "the_cape_button@persona.cape_button": {
          "anchor_to": "top_middle",
          "anchor_from": "top_middle"
        }
      }
    ]
  },

  "cape_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.cape_scrolling_content"
  },

  "cape_category_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.cape_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_cape_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// emotes content
  "emotes_slot_button_content@persona.sub_category_label_image_button_content": {
    "$has_border": true
  },

  "emote_slot_grid_item@persona.persona_subcategory_button": {
    "$content_label_image_binding_type": "collection",
    "$content_label_image_collection_name": "$subcategory_collection_name",
    "$content_label_binding_name": "#persona_emote_slot_name",
    "$content_image_binding_name": "#persona_emote_image_name",
    "$content_label_image_file_system_binding_type": "collection",
    "$content_image_binding_system": "#persona_emote_image_file_system",
    "$content_image_is_dynamic": true,

    "$pressed_button_name": "button.emote_slot_selected",
    "$hover_button_name": "button.emote_slot_button_hovered",
    "$button_content": "persona.emotes_slot_button_content"
  },

  "emotes_slot_grid": {
    "type": "grid",
    "size": [ "100% - 4px", "100%c" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",

    "$subcategory_collection_prefix|default": "persona_emote_slot",
    "$subcategory_collection_name|default": "persona_emote_slot_collection",
    "$subcategory_button_focus_id": "emote_slot_grid_item",

    "$emote_slot_dimension_binding": "#emote_slot_dimension_binding",
    "grid_dimension_binding": "$emote_slot_dimension_binding",
    "grid_item_template": "persona.emote_slot_grid_item",
    "collection_name": "$subcategory_collection_name",

    "bindings": [
      {
        "binding_name": "$emote_slot_dimension_binding"
      }
    ]
  },

  "emote_scroll_panel@persona.scroll_section": {
    "$scrolling_content": "persona.emotes_slot_grid"
  },

  "emotes_section@persona.dialog_background_object": {
    "$persona_dialog_content": "persona.emote_scroll_panel",
    "bindings": [
      {
        "binding_name": "#is_emotes_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "emotes_right_side_bottom_buttons@persona.right_side_bottom_buttons": {
    "controls": [
      { "purchase_buttons_panel@persona.purchase_buttons": {} },
      {
        "padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "play_again@common_buttons.light_text_button": {
          "$button_offset": [ 0, -3 ],
          "size": [ "30%", "100%" ],
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "$pressed_button_name": "button.play_emote_again",
          "$font_type": "MinecraftTen",
          "$button_text": "dr.emotes.play_again",
          "$focus_id": "play_again_button", //see_pack_in_store_button
          "$focus_override_left": "offer_real_money_purchase_button",
          "$persona_focus_precedence": 3,
          "bindings": [
            {
              "binding_name": "#is_play_again_button_enabled",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "emotes_right_info_panel@persona.right_info_panel": {
    "$right_side_bottom_buttons|default": "persona.emotes_right_side_bottom_buttons"
  },

  "persona_emote_offer_scroll_content": {
    "type": "panel",
    "size": [ "100%", "100%c + 4px" ],
    "$max_size_centered_x_panel": [ "100%", "100%" ],
    "$pressed_button_function": "button.select_emote",
    "$piece_grid_dimension_binding": "#emote_offer_count",
    "$persona_piece_prefix": "emote",
    "$persona_piece_collection_name": "emote_collection",
    "$piece_grid_visible_binding_type": "global",
    "$piece_grid_visible_binding_name": "#is_emote_offer_list_visible",
    "$button_content": "persona.piece_offer_button_content",

    "controls": [
      {
        "emote_offer_grid@persona.persona_piece_offer_grid": {}
      }
    ]
  },

  "emote_offer_section_panel": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "focus_container": true,
    "use_last_focus": true,
    "focus_nagivation_mode_left": "stop",
    "focus_nagivation_mode_right": "none",
    "focus_nagivation_mode_down": "stop",
    "focus_nagivation_mode_up": "none",
    "controls": [
      {
        "remove_emote_option_panel": {
          "type": "panel",
          "size": [ "100%", 19 ],
          "controls": [
            {
              "none_emote_button@common_buttons.light_text_button": {
                "size": [ "100% - 4px", "100%" ],
                "$pressed_button_name": "button.remove_emote",
                "$button_text": "#none_option_text",
                "$button_text_binding_type": "global",
                "$button_text_size": [ "default", 10 ],
                "$button_font_scale_factor": 0.8,
                "$new_ui_label_offset": [ 0, -1 ],
                "$font_type": "MinecraftTen",
                "bindings": [
                  {
                    "binding_name": "#is_none_emote_option_enabled",
                    "binding_name_override": "#enabled"
                  }
                ],
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_select",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "pressed"
                  },
                  {
                    "from_button_id": "button.menu_ok",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "focused"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "emote_offer_scroll_panel@persona.scroll_section": {
          "size": [ "100%", "fill" ],
          "$scrolling_content": "persona.persona_emote_offer_scroll_content"
        }
      }
    ]
  },

  "emote_piece_section": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "top_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "emote_piece_dialog@persona.dialog_background_object": {
          "$persona_dialog_content": "persona.emote_offer_section_panel"
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#is_emote_offer_list_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// left panel content
  "piece_section": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "bindings": [
      {
        "binding_name": "#is_piece_section_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "featured_piece_section@persona.featured_piece_section": {} },
      {
        "piece_section@persona.persona_piece_section": {
          "size": [ "100%", "fill" ]
        }
      }
    ]
  },

  "category_section_panels": {
    "type": "panel",
    "size": [ "100%", "100% + 6px" ],
    "offset": [ 0, -3 ],
    "controls": [
      { "category_section@persona.persona_category_section": {} },
      { "classic_skin_section@persona.classic_skin_categories": {} },
      { "emotes_section@persona.emotes_section": {} },
      { "cape_section@persona.cape_piece_section": {} }
    ]
  },

  "persona_section_panels": {
    "type": "panel",
    "size": [ "100%", "fill" ],
    "controls": [
      { "category_sections@persona.category_section_panels": {} },
      { "piece_section@persona.piece_section": {} },
      { "classic_skin_skin@persona.persona_skin_section": {} },
      { "emotes_piece_section@persona.emote_piece_section": {} }
    ]
  },

  "persona_left_panel": {
    "type": "panel",
    "size": [ "37.613%", "100%" ],
    "controls": [
      {
        "persona_offer_panel_content": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%" ],
          "layer": 2,
          "controls": [
            { "top_panel_padding@persona.vertical_base_padding": {} },
            { "persona_tabs@persona.persona_tabs": {} },
            {
              "persona_left_panels@persona.persona_section_panels": {
                "focus_container": true,
                "use_last_focus": true,
                "focus_wrap_enabled": false,
                "focus_nagivation_mode_left": "stop",
                "focus_nagivation_mode_down": "stop",
                "focus_nagivation_mode_right": "custom",
                "focus_container_custom_right": [
                  {
                    "other_focus_container_name": "content_stack2"
                  }
                ]
              }
            },
            { "bottom_panel_padding@persona.vertical_base_padding": {} }
          ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// overall screen objects
  "persona_screen_main_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "persona_screen_main_content": {
          "type": "panel",
          "size": [ "100%", "100%" ],
          "controls": [
            {
              "preview_panel": {
                "type": "input_panel",
                "anchor_to": "top_middle",
                "anchor_from": "top_middle",
                "size": [ "100%", "100%" ],
                "always_listen_to_input": true,
                "controls": [
                  {
                    "preview@skin_viewer_panel": {
                      "anchor_to": "top_middle",
                      "anchor_from": "top_middle",
                      "size": [ "80%", "80%" ],
                      "$gesture_input_panel_control": "preview",
                      "$skin_preview": "#preview_skin_full"
                    }
                  },
                  {
                    "arrow_panel": {
                      "type": "panel",
                      "anchor_to": "bottom_middle",
                      "anchor_from": "bottom_middle",
                      "size": [ 37, 7 ],
                      "offset": [ 0, -10 ],
                      "controls": [
                        {
                          "rotate_arrows@skin_picker.skin_rotation_arrows": {
                          }
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_name": "#preview_appearance_on",
                    "binding_name_override": "#visible",
                    "binding_condition": "always"
                  }
                ],
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_secondary_select",
                    "to_button_id": "button.try_exiting",
                    "mapping_type": "pressed"
                  }
                ]
              }
            },
            {
              "stack_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%" ],
                "controls": [
                  { "left_main_panel_padding@horizontal_left_padding": {} },
                  { "content_stack@persona.persona_left_panel": {} },
                  { "middle_main_panel_padding@horizontal_left_padding": {} },
                  {
                    "content_stack2@persona.right_side_stack": {
                      "focus_container": true,
                      "use_last_focus": false,
                      "focus_wrap_enabled": false,
                      "focus_nagivation_mode_left": "custom",
                      "focus_nagivation_mode_right": "stop",
                      "focus_nagivation_mode_down": "stop",
                      "focus_nagivation_mode_up": "custom",
                      "focus_container_custom_up": [
                        {
                          "other_focus_container_name": "top_bar"
                        }
                      ],
                      "focus_container_custom_left": [
                        {
                          "other_focus_container_name": "persona_left_panels"
                        }
                      ]
                    }
                  },
                  { "right_main_panel_padding@horizontal_left_padding": {} }
                ],
                "bindings": [
                  {
                    "binding_name": "(not #preview_appearance_on)",
                    "binding_name_override": "#visible",
                    "binding_condition": "always"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(not #page_loading_visible)",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      {
        "progress_loading@common_store.progress_loading": {
          "layer": 100, // Make this on top
          "bindings": [
            {
              "binding_name": "#page_loading_visible",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      { "classic_skin_custom_popup@persona.custom_skin_popup_dialog_panel": {} }
    ]
  },

  "persona_screen_background_content": {
    "type": "image",
    "fill": true,
    "texture": "textures/ui/profile_bg"
  },

  "persona_screen_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "$ignore_inventory_button": true,
    "$ignore_home_button": true,
    "$ignore_search": true,
    "controls": [
      {
        "main_panel@common_store.store_header_with_coins": {
          "$child_control": "persona.persona_screen_main_panel",
          "$back_button_pressed_button_name": "button.try_exiting",
          "$top_status_and_coins_visible_binding_type": "global",
          "$top_status_and_coins_visible_binding": "(not #preview_appearance_on)"
        }
      },
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "no_store_connection": "@common_store.popup_dialog__no_store_connection",
            "restore_popup": "@common_store.popup_dialog__restore_popup",
            "restore_failed": "@common_store.popup_dialog__restore_failed"
          }
        }
      }
    ]
  },

  "persona_screen@common.base_screen": {
    "$safezone_screen_matrix_layer": 20,
    "button_mappings": [
      {
        "from_button_id": "button.controller_select", // controller_X
        "to_button_id": "button.coin_wallet",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.try_exiting",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_secondary_select_right", // controller_R3
        "to_button_id": "button.preview_skin",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.menu_tab_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.menu_tab_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ],
    "$screen_animations": [
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade",
      "@common.screen_entrance_animation_push_fade",
      "@common.screen_entrance_animation_pop_fade"
    ],
    "$screen_content": "persona.persona_screen_content",
    "$header_safezone_control": "common_store.store_top_bar_filler",
    "$header_bar_control": "common_store.store_top_bar",
    "$is_full_screen_layout": false,
    "$ignore_swappers": false,
    "$screen_bg_content": "persona.persona_screen_background_content"
  }
}
